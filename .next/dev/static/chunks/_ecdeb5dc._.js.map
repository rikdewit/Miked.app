{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/types.ts"],"sourcesContent":["\nexport enum InstrumentType {\n  VOCAL = 'Vocal',\n  GUITAR = 'Guitar',\n  BASS = 'Bass',\n  DRUMS = 'Drums',\n  KEYS = 'Keys',\n  BRASS = 'Brass',\n  STRINGS = 'Strings',\n  OTHER = 'Other'\n}\n\nexport type PersonPose = 'stand' | 'guitar' | 'bass' | 'acoustic' | 'drums' | 'keys' | 'trumpet' | 'singing' | 'dj' | 'sax';\n\nexport interface InstrumentDefinition {\n  id: string;\n  name: string; // The specific name (e.g. \"Guitar (Modeller)\")\n  group: string; // The UI Label (e.g. \"Electric Guitar\")\n  variantLabel?: string; // Short label for the toggle (e.g. \"Modeller\")\n  type: InstrumentType;\n  defaultMic?: string;\n  defaultDi?: boolean;\n  requiresMonitor?: boolean;\n  icon: string; // Icon name reference\n}\n\nexport interface InputConfig {\n  label: string;\n  micDi: string;\n  stand: string;\n  notes?: string;\n}\n\nexport interface InstrumentSlot {\n  instrumentId: string;\n  inputs?: InputConfig[];\n}\n\nexport interface BandMember {\n  id: string;\n  name: string;\n  instruments: InstrumentSlot[];\n}\n\nexport interface StageItem {\n  id: string;\n  memberId?: string; // If linked to a band member\n  type: 'member' | 'monitor' | 'power' | 'drumriser' | 'person' | 'stand' | 'custom';\n  customWidth?: number;  // meters, for custom blocks (undefined or 0 = label-only)\n  customDepth?: number;  // meters, for custom blocks (undefined or 0 = label-only)\n  customHeight?: number; // meters, for custom blocks (Y-axis height)\n  labelHeight?: number;  // meters, height of label above ground in 3D space\n  x: number; // Percentage 0-100\n  y: number; // Percentage 0-100\n  label: string;\n  rotation?: number;\n  fromInstrumentIndex?: number; // Which instrument slot created this item\n  isPeripheral?: boolean; // If true, this item is removed when swapping variants (e.g. Amp), vs Core items (Guitar Body)\n  quantity?: number; // For power items: number of outlets/strips\n  monitorNumber?: number; // For monitor items: display number\n}\n\nexport interface RiderDetails {\n  bandName: string;\n  contactName: string;\n  email: string;\n  phone?: string;\n  website?: string;\n  socials?: string;\n  logoUrl?: string; // Base64 string\n  generalNotes?: string;\n  technicalNotes?: string;\n  showDuration?: string;\n  soundcheckDuration?: string;\n  stageWidth?: number;\n  stageDepth?: number;\n  stageDimensionUnit?: 'm' | 'ft';\n}\n\nexport interface RiderData {\n  members: BandMember[];\n  stagePlot: StageItem[];\n  details: RiderDetails;\n}"],"names":[],"mappings":";;;;AACO,IAAA,AAAK,wCAAA;;;;;;;;;WAAA"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/constants.ts"],"sourcesContent":["import { InstrumentDefinition, InstrumentType } from './types';\n\n// ─── Stage Plot Camera Settings ───────────────────────────────────────────────\n// Adjust these to change how the stage is framed in each view/mode.\n// padding: fraction of extra space around the stage (0.1 = 10%)\n// modelHeight: how many world-units above the stage floor to include in the\n//              zoom-to-fit bounding box (accounts for 3D model height)\n// position: [x, y, z] camera world position\n// lookAt: [x, y, z] point the camera looks at\n\nexport const CAMERA_TOP_INTERACTIVE = {\n  position: [0, 30, -1] as [number, number, number],\n  lookAt: [0, -20, 1] as [number, number, number],\n  padding: 0.2,\n  modelHeight: 0,\n};\n\nexport const CAMERA_TOP_PREVIEW = {\n  position: [0, 30, -1] as [number, number, number],\n  lookAt: [0, -20, 1] as [number, number, number],\n  padding: .2,\n  modelHeight: 0,\n};\n\nexport const CAMERA_ISO_INTERACTIVE = {\n  position: [-20, 30, 20] as [number, number, number],\n  lookAt: [0, 1, 0] as [number, number, number],\n  padding: 0.2,\n  modelHeight: 3,\n};\n\nexport const CAMERA_ISO_PREVIEW = {\n  position: [-20, 30, 20] as [number, number, number],\n  lookAt: [0, 1, 0] as [number, number, number],\n  padding: 0,\n  modelHeight: 3,\n};\n\n// ─── Font Size Adjustments ────────────────────────────────────────────────────\n// Scale factors for text rendering in preview vs interactive modes\n// Model labels (on stage items like \"Lead Vocals\", \"Guitar\", etc.)\nexport const MODEL_LABEL_FONT_SCALE_INTERACTIVE = 1.3;\nexport const MODEL_LABEL_FONT_SCALE_PREVIEW = 3;\n\n// Audience text (the \"AUDIENCE\" label in front of stage)\nexport const AUDIENCE_TEXT_FONT_SCALE_INTERACTIVE = 1;\nexport const AUDIENCE_TEXT_FONT_SCALE_PREVIEW = 1;\n// ──────────────────────────────────────────────────────────────────────────────\n\n\nexport const INSTRUMENTS: InstrumentDefinition[] = [\n  // Vocals\n  { id: 'voc_lead', group: 'Vocals', name: 'Lead Vocals', type: InstrumentType.VOCAL, defaultMic: 'SM58/Beta58', requiresMonitor: true, icon: 'Mic' },\n  { id: 'voc_back', group: 'Vocals', name: 'Backing Vocals', type: InstrumentType.VOCAL, defaultMic: 'SM58', requiresMonitor: true, icon: 'Mic' },\n  \n  // Electric Guitar\n  { id: 'gtr_amp', group: 'Electric Guitar', variantLabel: 'amp', name: 'Electric Guitar (Amp)', type: InstrumentType.GUITAR, defaultMic: 'SM57 / e609', icon: 'Guitar' },\n  { id: 'gtr_amp_2', group: 'Electric Guitar', variantLabel: '2 Amps', name: 'Electric Guitar (2 Amps)', type: InstrumentType.GUITAR, defaultMic: '2x SM57', icon: 'Guitar' },\n  { id: 'gtr_modeler_mono', group: 'Electric Guitar', variantLabel: 'Modeller (Mono)', name: 'Electric Guitar (Modeller Mono)', type: InstrumentType.GUITAR, defaultDi: true, icon: 'Guitar' },\n  { id: 'gtr_modeler_stereo', group: 'Electric Guitar', variantLabel: 'Modeller (Stereo)', name: 'Electric Guitar (Modeller Stereo)', type: InstrumentType.GUITAR, defaultDi: true, icon: 'Guitar' },\n  \n  // Acoustic Guitar\n  { id: 'gtr_ac', group: 'Acoustic Guitar', name: 'Acoustic Guitar', type: InstrumentType.GUITAR, defaultDi: true, requiresMonitor: true, icon: 'Guitar' },\n  \n  // Bass\n  { id: 'bass_amp', group: 'Bass Guitar', variantLabel: 'amp', name: 'Bass (Amp)', type: InstrumentType.BASS, defaultMic: 'D112 / Beta52', icon: 'Speaker' },\n  { id: 'bass_di', group: 'Bass Guitar', variantLabel: 'DI Only', name: 'Bass (DI)', type: InstrumentType.BASS, defaultDi: true, icon: 'Speaker' },\n  { id: 'bass_combined', group: 'Bass Guitar', variantLabel: 'Amp + DI', name: 'Bass (Amp + DI)', type: InstrumentType.BASS, defaultDi: true, defaultMic: 'D112', icon: 'Speaker' },\n  \n  // Drums\n  { id: 'drums', group: 'Drums', name: 'Drum Kit (Standard)', type: InstrumentType.DRUMS, defaultMic: 'Kick, Snare, OH L/R', requiresMonitor: true, icon: 'Drum' },\n  \n  // Keys\n  { id: 'keys_mono', group: 'Keys / Synth', variantLabel: 'Mono', name: 'Keys (Mono)', type: InstrumentType.KEYS, defaultDi: true, requiresMonitor: true, icon: 'Music' },\n  { id: 'keys_stereo', group: 'Keys / Synth', variantLabel: 'Stereo', name: 'Keys (Stereo)', type: InstrumentType.KEYS, defaultDi: true, requiresMonitor: true, icon: 'Music' },\n  \n  // Brass - Sax\n  { id: 'sax_mic', group: 'Saxophone', variantLabel: 'Mic on Stand', name: 'Saxophone (Stand Mic)', type: InstrumentType.BRASS, defaultMic: 'RE20 / MD421', icon: 'Music' },\n  { id: 'sax_clip', group: 'Saxophone', variantLabel: 'Clip-on', name: 'Saxophone (Clip-on)', type: InstrumentType.BRASS, defaultMic: 'Clip-on (XLR)', icon: 'Music' },\n  \n  // Brass - Trumpet\n  { id: 'tpt_mic', group: 'Trumpet', variantLabel: 'Mic on Stand', name: 'Trumpet (Stand Mic)', type: InstrumentType.BRASS, defaultMic: 'SM57 / MD421', icon: 'Music' },\n  { id: 'tpt_clip', group: 'Trumpet', variantLabel: 'Clip-on', name: 'Trumpet (Clip-on)', type: InstrumentType.BRASS, defaultMic: 'Clip-on (XLR)', icon: 'Music' },\n  \n  // DJ\n  { id: 'dj', group: 'DJ', name: 'DJ Set', type: InstrumentType.OTHER, defaultMic: 'XLR', defaultDi: true, requiresMonitor: true, icon: 'Disc' },\n\n  // Tracks\n  { id: 'tracks_mono', group: 'Tracks', variantLabel: 'Mono', name: 'Tracks (Mono)', type: InstrumentType.OTHER, defaultDi: true, icon: 'Laptop' },\n  { id: 'tracks_stereo', group: 'Tracks', variantLabel: 'Stereo', name: 'Tracks (Stereo)', type: InstrumentType.OTHER, defaultDi: true, icon: 'Laptop' },\n];\n\nexport const INITIAL_RIDER_DATA = {\n  members: [],\n  stagePlot: [],\n  details: {\n    bandName: '',\n    contactName: '',\n    email: '',\n    generalNotes: '',\n    technicalNotes: '',\n    showDuration: '',\n    soundcheckDuration: '',\n    stageDimensionUnit: 'm' as const,\n  },\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/hooks/useRiderState.ts"],"sourcesContent":["\nimport { useState, useCallback, useEffect } from 'react';\nimport { RiderData, BandMember, StageItem, InstrumentType, InputConfig } from '../types';\nimport { INITIAL_RIDER_DATA, INSTRUMENTS } from '../constants';\n\nconst STORAGE_KEY = 'miked_rider_data';\n\nexport const useRiderState = () => {\n  const [data, setData] = useState<RiderData>(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      return saved ? JSON.parse(saved) : INITIAL_RIDER_DATA;\n    } catch {\n      return INITIAL_RIDER_DATA;\n    }\n  });\n\n  // Save to localStorage whenever data changes\n  useEffect(() => {\n    try {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n    } catch (err) {\n      console.error('Failed to save to localStorage:', err);\n    }\n  }, [data]);\n\n  const addMember = useCallback(() => {\n    const newMember: BandMember = {\n      id: Math.random().toString(36).substr(2, 9),\n      name: '',\n      instruments: [{ instrumentId: INSTRUMENTS[0].id }]\n    };\n    setData(prev => ({ ...prev, members: [...prev.members, newMember] }));\n  }, []);\n\n  const applyRockTemplate = useCallback(() => {\n    const newMembers: BandMember[] = [\n      { id: Math.random().toString(36).substr(2, 9), name: 'Drummer', instruments: [{ instrumentId: 'drums' }] },\n      { id: Math.random().toString(36).substr(2, 9), name: 'Bassist', instruments: [{ instrumentId: 'bass_amp' }] },\n      { id: Math.random().toString(36).substr(2, 9), name: 'Guitarist', instruments: [{ instrumentId: 'gtr_amp' }] },\n      { id: Math.random().toString(36).substr(2, 9), name: 'Lead Singer', instruments: [{ instrumentId: 'voc_lead' }] },\n    ];\n    // Reset members AND clear stage plot entirely when applying a full template\n    setData(prev => ({ ...prev, members: newMembers, stagePlot: [] }));\n  }, []);\n\n  const updateMemberName = useCallback((id: string, name: string) => {\n    setData(prev => ({\n      ...prev,\n      members: prev.members.map(m => m.id === id ? { ...m, name } : m),\n      // Also update labels on stage if they exist\n      stagePlot: prev.stagePlot.map(item => {\n        if (item.memberId === id && item.type === 'person') {\n            return { ...item, label: name };\n        }\n        return item;\n      })\n    }));\n  }, []);\n\n  const addMemberInstrument = useCallback((memberId: string) => {\n    setData(prev => ({\n      ...prev,\n      members: prev.members.map(m => {\n        if (m.id === memberId) {\n          return { ...m, instruments: [...m.instruments, { instrumentId: INSTRUMENTS[0].id }] };\n        }\n        return m;\n      }),\n      // No stage items to remove when adding a new instrument slot\n    }));\n  }, []);\n\n  const updateMemberInstrument = useCallback((memberId: string, index: number, newInstrumentId: string) => {\n    setData(prev => {\n      const member = prev.members.find(m => m.id === memberId);\n      if (!member) return prev;\n\n      const oldInstrumentId = member.instruments[index].instrumentId;\n      const oldInstDef = INSTRUMENTS.find(i => i.id === oldInstrumentId);\n      const newInstDef = INSTRUMENTS.find(i => i.id === newInstrumentId);\n\n      // Determine cleanup strategy\n      // If Types match (e.g. Guitar -> Guitar), we only remove \"Peripheral\" items (Amp).\n      // If Types differ (e.g. Guitar -> Keys), we remove ALL items for this slot.\n      const sameType = oldInstDef && newInstDef && oldInstDef.type === newInstDef.type;\n\n      // Update Member\n      const updatedMembers = prev.members.map(m => {\n        if (m.id === memberId) {\n          const newSlots = [...m.instruments];\n          // When changing instrument, reset inputs to defaults\n          newSlots[index] = { ...newSlots[index], instrumentId: newInstrumentId, inputs: undefined };\n          return { ...m, instruments: newSlots };\n        }\n        return m;\n      });\n\n      // Update Stage Plot\n      let updatedStagePlot = prev.stagePlot.filter(item => {\n        // If it's not this member, keep it\n        if (item.memberId !== memberId) return true;\n        \n        // If it's the Person, keep it\n        if (item.type === 'person') return true;\n\n        // If it belongs to a different instrument index, keep it\n        if (item.fromInstrumentIndex !== index) return true;\n\n        // If it belongs to THIS instrument index:\n        if (sameType) {\n            // Same type: Remove only Peripherals (e.g. Amp), Keep Core (e.g. Guitar Body)\n            return !item.isPeripheral;\n        } else {\n            // Different type: Remove everything for this instrument\n            return false;\n        }\n      });\n\n      // Update labels for core items if instrument changed\n      updatedStagePlot = updatedStagePlot.map(item => {\n        if (item.memberId === memberId && item.fromInstrumentIndex === index && !item.isPeripheral) {\n            return { ...item, label: newInstDef?.group || item.label };\n        }\n        return item;\n      });\n\n      return {\n        ...prev,\n        members: updatedMembers,\n        stagePlot: updatedStagePlot\n      };\n    });\n  }, []);\n\n  const removeMemberInstrument = useCallback((memberId: string, indexToRemove: number) => {\n    setData(prev => ({\n      ...prev,\n      members: prev.members.map(m => {\n        if (m.id === memberId) {\n           const newSlots = m.instruments.filter((_, i) => i !== indexToRemove);\n           return { ...m, instruments: newSlots };\n        }\n        return m;\n      }),\n      // Remove items for the deleted index, and shift indices for subsequent items\n      stagePlot: prev.stagePlot\n        .filter(item => {\n            if (item.memberId !== memberId) return true;\n            // Remove items belonging to the deleted slot\n            if (item.fromInstrumentIndex === indexToRemove) return false;\n            return true;\n        })\n        .map(item => {\n            if (item.memberId === memberId && item.fromInstrumentIndex !== undefined && item.fromInstrumentIndex > indexToRemove) {\n                // Shift index down to match new array\n                return { ...item, fromInstrumentIndex: item.fromInstrumentIndex - 1 };\n            }\n            return item;\n        })\n    }));\n  }, []);\n\n  const removeMember = useCallback((id: string) => {\n    setData(prev => ({\n      ...prev,\n      members: prev.members.filter(m => m.id !== id),\n      // Remove everything for this member\n      stagePlot: prev.stagePlot.filter(item => item.memberId !== id)\n    }));\n  }, []);\n\n  const updateStageItems = useCallback((newItems: StageItem[]) => {\n    setData(prev => ({ ...prev, stagePlot: newItems }));\n  }, []);\n\n  const updateInstrumentInputs = useCallback((memberId: string, index: number, inputs: InputConfig[]) => {\n    setData(prev => ({\n      ...prev,\n      members: prev.members.map(m => {\n        if (m.id === memberId) {\n          const newSlots = [...m.instruments];\n          newSlots[index] = { ...newSlots[index], inputs };\n          return { ...m, instruments: newSlots };\n        }\n        return m;\n      })\n    }));\n  }, []);\n\n  return {\n    data,\n    setData,\n    addMember,\n    applyRockTemplate,\n    updateMemberName,\n    addMemberInstrument,\n    updateMemberInstrument,\n    removeMemberInstrument,\n    removeMember,\n    updateStageItems,\n    updateInstrumentInputs\n  };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 683, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/Header.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { Mic } from 'lucide-react';\n\ninterface HeaderProps {\n  step: number;\n  setStep: (step: number) => void;\n}\n\nexport const Header: React.FC<HeaderProps> = ({ step, setStep }) => {\n  return (\n    <nav className=\"no-print bg-slate-950 border-b border-slate-800 p-4 sticky top-0 z-[1000]\">\n      <div className=\"max-w-6xl mx-auto flex justify-between items-center\">\n        <div className=\"font-bold text-xl flex items-center gap-2 cursor-pointer\" onClick={() => setStep(0)}>\n          <Mic className=\"text-indigo-500\" />\n          <span>miked<span className=\"text-indigo-500\">.app</span></span>\n        </div>\n        <div className={`flex-1 flex items-center justify-end gap-6 text-sm ${step === 0 ? 'text-slate-600' : 'text-slate-400'}`}>\n          {/* Full text version - shown only on larger screens */}\n          <span className=\"hidden md:inline\">\n            <span className={step >= 1 ? 'text-indigo-400 font-bold' : ''}>1. Band</span>\n            <span className=\"mx-3\">→</span>\n            <span className={step >= 2 ? 'text-indigo-400 font-bold' : ''}>2. Stage</span>\n            <span className=\"mx-3\">→</span>\n            <span className={step >= 3 ? 'text-indigo-400 font-bold' : ''}>3. Details</span>\n            <span className=\"mx-3\">→</span>\n            <span className={step >= 4 ? 'text-indigo-400 font-bold' : ''}>4. Done</span>\n          </span>\n\n          {/* Number-only version - shown on smaller screens */}\n          <span className=\"md:hidden\">\n            <span className={step >= 1 ? 'text-indigo-400 font-bold' : ''}>1</span>\n            <span className=\"mx-4\">→</span>\n            <span className={step >= 2 ? 'text-indigo-400 font-bold' : ''}>2</span>\n            <span className=\"mx-4\">→</span>\n            <span className={step >= 3 ? 'text-indigo-400 font-bold' : ''}>3</span>\n            <span className=\"mx-4\">→</span>\n            <span className={step >= 4 ? 'text-indigo-400 font-bold' : ''}>4</span>\n          </span>\n        </div>\n      </div>\n    </nav>\n  );\n};"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAUO,MAAM,SAAgC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE;IAC7D,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;oBAA2D,SAAS,IAAM,QAAQ;;sCAC/F,6LAAC,0MAAG;4BAAC,WAAU;;;;;;sCACf,6LAAC;;gCAAK;8CAAK,6LAAC;oCAAK,WAAU;8CAAkB;;;;;;;;;;;;;;;;;;8BAE/C,6LAAC;oBAAI,WAAW,CAAC,mDAAmD,EAAE,SAAS,IAAI,mBAAmB,kBAAkB;;sCAEtH,6LAAC;4BAAK,WAAU;;8CACd,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAO;;;;;;8CACvB,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAO;;;;;;8CACvB,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAO;;;;;;8CACvB,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;;;;;;;sCAIjE,6LAAC;4BAAK,WAAU;;8CACd,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAO;;;;;;8CACvB,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAO;;;;;;8CACvB,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;8CAC/D,6LAAC;oCAAK,WAAU;8CAAO;;;;;;8CACvB,6LAAC;oCAAK,WAAW,QAAQ,IAAI,8BAA8B;8CAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM3E;KAlCa"}},
    {"offset": {"line": 893, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/FooterNav.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { ArrowLeft, ArrowRight, Download, Loader2 } from 'lucide-react';\n\ninterface FooterNavProps {\n  step: number;\n  setStep: React.Dispatch<React.SetStateAction<number>>;\n  canProceed: boolean;\n  onDownload?: () => void;\n  isDownloading?: boolean;\n  onAttemptProceed?: () => void;\n}\n\nexport const FooterNav: React.FC<FooterNavProps> = ({ step, setStep, canProceed, onDownload, isDownloading, onAttemptProceed }) => {\n  if (step === 0) return null;\n\n  return (\n    <div className=\"no-print bg-slate-950 p-4 border-t border-slate-800 sticky bottom-0 w-full z-[1000]\">\n      <div className=\"max-w-4xl mx-auto flex justify-between\">\n        <button \n          onClick={() => setStep(s => s - 1)}\n          className={`px-6 py-2 rounded font-medium flex items-center gap-2 text-slate-400 hover:text-white transition-colors ${step === 4 ? 'visible' : ''}`}\n        >\n          <ArrowLeft size={18} /> Back\n        </button>\n        \n        {step < 4 ? (\n          <button\n            onClick={() => {\n              onAttemptProceed?.();\n              if (canProceed) {\n                setStep(s => s + 1);\n              }\n            }}\n            className={`px-6 py-2 rounded-full font-bold flex items-center gap-2 transition-all ${\n              canProceed\n                ? 'bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg hover:shadow-indigo-500/25 cursor-pointer'\n                : 'bg-slate-800 text-slate-500 cursor-not-allowed'\n            }`}\n          >\n            Next Step <ArrowRight size={18} />\n          </button>\n        ) : (\n           <button \n              onClick={onDownload}\n              disabled={isDownloading} \n              className=\"bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-800 disabled:cursor-wait text-white px-6 py-2 rounded-full font-bold flex items-center gap-2 shadow-lg hover:shadow-indigo-500/25 transition-all\"\n           >\n             {isDownloading ? <Loader2 className=\"animate-spin\" size={18} /> : <Download size={18} />}\n             {isDownloading ? 'Generating...' : 'Download PDF'}\n           </button>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAHA;;;AAcO,MAAM,YAAsC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,aAAa,EAAE,gBAAgB,EAAE;IAC5H,IAAI,SAAS,GAAG,OAAO;IAEvB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,SAAS,IAAM,QAAQ,CAAA,IAAK,IAAI;oBAChC,WAAW,CAAC,wGAAwG,EAAE,SAAS,IAAI,YAAY,IAAI;;sCAEnJ,6LAAC,gOAAS;4BAAC,MAAM;;;;;;wBAAM;;;;;;;gBAGxB,OAAO,kBACN,6LAAC;oBACC,SAAS;wBACP;wBACA,IAAI,YAAY;4BACd,QAAQ,CAAA,IAAK,IAAI;wBACnB;oBACF;oBACA,WAAW,CAAC,wEAAwE,EAClF,aACI,qGACA,kDACJ;;wBACH;sCACW,6LAAC,mOAAU;4BAAC,MAAM;;;;;;;;;;;6EAG7B,6LAAC;oBACE,SAAS;oBACT,UAAU;oBACV,WAAU;;wBAEV,8BAAgB,6LAAC,0NAAO;4BAAC,WAAU;4BAAe,MAAM;;;;;qFAAS,6LAAC,yNAAQ;4BAAC,MAAM;;;;;;wBACjF,gBAAgB,kBAAkB;;;;;;;;;;;;;;;;;;AAMhD;KA1Ca"}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/Landing.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { Mic, Info, ArrowRight } from 'lucide-react';\n\ninterface LandingProps {\n  onStart: () => void;\n}\n\nexport const Landing: React.FC<LandingProps> = ({ onStart }) => {\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-[80vh] text-center px-4\">\n      <div className=\"bg-indigo-600 p-6 rounded-full mb-6 animate-bounce\">\n        <Mic size={64} className=\"text-white\" />\n      </div>\n      <h1 className=\"text-4xl md:text-6xl font-bold text-white mb-4\">\n        miked.app\n      </h1>\n      <p className=\"text-xl text-slate-300 max-w-2xl mb-8\">\n        Create a professional technical rider and stage plot for your band in 5 minutes. \n        No account needed, instant results.\n      </p>\n      <button \n        onClick={onStart}\n        className=\"bg-white text-indigo-900 px-8 py-4 rounded-full font-bold text-lg hover:bg-indigo-50 transition-all flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-1\"\n      >\n        Start Now <ArrowRight />\n      </button>\n      <div className=\"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 text-slate-400 text-sm\">\n        <div className=\"flex flex-col items-center\">\n          <Info className=\"mb-2\" />\n          <span>Automatic Input List</span>\n        </div>\n        <div className=\"flex flex-col items-center\">\n          <Info className=\"mb-2\" />\n          <span>Drag & Drop Stage Plot</span>\n        </div>\n        <div className=\"flex flex-col items-center\">\n          <Info className=\"mb-2\" />\n          <span>Direct PDF Export</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAHA;;;AASO,MAAM,UAAkC,CAAC,EAAE,OAAO,EAAE;IACzD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,0MAAG;oBAAC,MAAM;oBAAI,WAAU;;;;;;;;;;;0BAE3B,6LAAC;gBAAG,WAAU;0BAAiD;;;;;;0BAG/D,6LAAC;gBAAE,WAAU;0BAAwC;;;;;;0BAIrD,6LAAC;gBACC,SAAS;gBACT,WAAU;;oBACX;kCACW,6LAAC,mOAAU;;;;;;;;;;;0BAEvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;0CAAK;;;;;;;;;;;;kCAER,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;0CAAK;;;;;;;;;;;;kCAER,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;0CAAK;;;;;;;;;;;;;;;;;;;;;;;;AAKhB;KAnCa"}},
    {"offset": {"line": 1157, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/RichTextEditor.tsx"],"sourcesContent":["'use client'\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useEditor, EditorContent } from '@tiptap/react';\nimport { BubbleMenu } from '@tiptap/react/menus';\nimport StarterKit from '@tiptap/starter-kit';\nimport Image from '@tiptap/extension-image';\nimport { Bold, Italic, List, ListOrdered, Heading2, Trash2, Image as ImageIcon, Trash } from 'lucide-react';\n\ninterface RichTextEditorProps {\n  value: string;\n  onChange: (content: string) => void;\n  placeholder?: string;\n}\n\nexport const RichTextEditor: React.FC<RichTextEditorProps> = ({ value, onChange }) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isFocused, setIsFocused] = useState(false);\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        heading: {\n          levels: [2, 3],\n        },\n      }),\n      Image.extend({\n        addAttributes() {\n          return {\n            ...this.parent?.(),\n            style: {\n              default: null,\n              parseHTML: element => {\n                const style = element.getAttribute('style');\n                return style || null;\n              },\n              renderHTML: attributes => {\n                if (!attributes.style) {\n                  return {};\n                }\n                return {\n                  style: attributes.style,\n                };\n              },\n            },\n          };\n        },\n        parseHTML() {\n          return [\n            {\n              tag: 'img[src]',\n              getAttrs: (node) => {\n                if (typeof node === 'string') return false;\n                return {\n                  src: node.getAttribute('src'),\n                  alt: node.getAttribute('alt') || '',\n                  title: node.getAttribute('title') || '',\n                  style: node.getAttribute('style'),\n                };\n              },\n            },\n          ];\n        },\n      }).configure({\n        HTMLAttributes: {\n          class: 'max-w-full h-auto rounded',\n        },\n        inline: false,\n      }),\n    ],\n    content: value || '',\n    onUpdate: ({ editor }) => {\n      onChange(editor.getHTML());\n    },\n  });\n\n  if (!editor) {\n    return null;\n  }\n\n  // Update editor content when navigating between steps\n  useEffect(() => {\n    if (!editor) return;\n\n    const editorContent = editor.getHTML();\n    const newContent = value || '';\n\n    // Only update if content differs (handles navigation between steps)\n    if (editorContent !== newContent && newContent) {\n      editor.commands.setContent(newContent);\n    }\n  }, [value]);\n\n  // Track focus state\n  useEffect(() => {\n    if (!editor) return;\n\n    const onFocus = () => setIsFocused(true);\n    const onBlur = () => setIsFocused(false);\n\n    editor.on('focus', onFocus);\n    editor.on('blur', onBlur);\n\n    return () => {\n      editor.off('focus', onFocus);\n      editor.off('blur', onBlur);\n    };\n  }, [editor]);\n\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      // Check file size (limit to 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        alert('Image size must be less than 5MB');\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onload = () => {\n        const base64 = reader.result as string;\n        // Use base64 directly as image src\n        editor.chain().focus().setImage({ src: base64 }).run();\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const addImageFromUrl = () => {\n    const url = window.prompt('Enter image URL');\n    if (url) {\n      editor.chain().focus().setImage({ src: url }).run();\n    }\n  };\n\n  const resizeImage = (width: string) => {\n    const widthPercent = width === '500px' ? '100%' : width === '375px' ? '75%' : width === '250px' ? '50%' : '33%';\n    editor\n      .chain()\n      .focus()\n      .updateAttributes('image', {\n        style: `width: ${widthPercent}; height: auto;`\n      })\n      .run();\n  };\n\n  const deleteImage = () => {\n    editor.chain().focus().deleteSelection().run();\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleImageUpload}\n        className=\"hidden\"\n      />\n      <div className=\"flex flex-wrap gap-2 bg-slate-900 border border-slate-600 rounded-t-lg p-3\">\n        <button\n          onClick={() => editor.chain().focus().toggleBold().run()}\n          disabled={!editor.can().chain().focus().toggleBold().run()}\n          className={`p-2 rounded transition-colors ${\n            editor.isActive('bold')\n              ? 'bg-indigo-600 text-white'\n              : 'bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700'\n          }`}\n          title=\"Bold\"\n        >\n          <Bold size={16} />\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleItalic().run()}\n          disabled={!editor.can().chain().focus().toggleItalic().run()}\n          className={`p-2 rounded transition-colors ${\n            editor.isActive('italic')\n              ? 'bg-indigo-600 text-white'\n              : 'bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700'\n          }`}\n          title=\"Italic\"\n        >\n          <Italic size={16} />\n        </button>\n\n        <div className=\"w-px bg-slate-600\" />\n\n        <button\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\n          className={`p-2 rounded transition-colors ${\n            editor.isActive('bulletList')\n              ? 'bg-indigo-600 text-white'\n              : 'bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700'\n          }`}\n          title=\"Bullet list\"\n        >\n          <List size={16} />\n        </button>\n        <button\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\n          className={`p-2 rounded transition-colors ${\n            editor.isActive('orderedList')\n              ? 'bg-indigo-600 text-white'\n              : 'bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700'\n          }`}\n          title=\"Numbered list\"\n        >\n          <ListOrdered size={16} />\n        </button>\n\n        <div className=\"w-px bg-slate-600\" />\n\n        <button\n          onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\n          className={`p-2 rounded transition-colors ${\n            editor.isActive('heading', { level: 2 })\n              ? 'bg-indigo-600 text-white'\n              : 'bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700'\n          }`}\n          title=\"Heading\"\n        >\n          <Heading2 size={16} />\n        </button>\n        <button\n          onClick={() => fileInputRef.current?.click()}\n          className=\"p-2 rounded transition-colors bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700\"\n          title=\"Upload image\"\n        >\n          <ImageIcon size={16} />\n        </button>\n\n        <div className=\"w-px bg-slate-600\" />\n\n        <button\n          onClick={() => editor.chain().focus().clearNodes().run()}\n          className=\"p-2 rounded transition-colors bg-slate-800 text-slate-400 hover:text-white hover:bg-slate-700\"\n          title=\"Clear formatting\"\n        >\n          <Trash2 size={16} />\n        </button>\n      </div>\n      <div className={`bg-slate-900 border border-slate-600 rounded-b-lg transition-all ${isFocused ? 'ring-2 ring-indigo-500' : ''}`} onClick={() => editor.chain().focus().run()}>\n        <EditorContent\n          editor={editor}\n          className=\"px-4 py-3 text-white outline-none min-h-32 [&_.ProseMirror]:outline-none [&_.ProseMirror]:focus:outline-none [&_*]:break-words [&_p]:break-words [&_p]:word-wrap [&_h2]:text-xl [&_h2]:font-bold [&_h2]:mt-4 [&_h2]:mb-2 [&_h3]:text-lg [&_h3]:font-bold [&_h3]:mt-3 [&_h3]:mb-2 [&_ul]:list-disc [&_ul]:ml-5 [&_ol]:list-decimal [&_ol]:ml-5 [&_li]:my-1 [&_a]:text-indigo-400 [&_a]:underline [&_a]:hover:text-indigo-300 [&_img]:rounded [&_img]:my-3 [&_img]:cursor-pointer\"\n        />\n      </div>\n      {editor && (\n        <BubbleMenu\n          editor={editor}\n          shouldShow={({ editor }) => {\n            return editor.isActive('image');\n          }}\n        >\n          <div className=\"flex gap-2 bg-slate-800 border border-slate-600 rounded-lg p-2 shadow-lg\">\n            <button\n              onClick={() => resizeImage('500px')}\n              className=\"px-3 py-1 text-xs rounded transition-colors bg-slate-700 text-slate-300 hover:bg-indigo-600 hover:text-white\"\n              title=\"Full width\"\n            >\n              Full\n            </button>\n            <button\n              onClick={() => resizeImage('375px')}\n              className=\"px-3 py-1 text-xs rounded transition-colors bg-slate-700 text-slate-300 hover:bg-indigo-600 hover:text-white\"\n              title=\"75% width\"\n            >\n              Large\n            </button>\n            <button\n              onClick={() => resizeImage('250px')}\n              className=\"px-3 py-1 text-xs rounded transition-colors bg-slate-700 text-slate-300 hover:bg-indigo-600 hover:text-white\"\n              title=\"50% width\"\n            >\n              Medium\n            </button>\n            <button\n              onClick={() => resizeImage('166px')}\n              className=\"px-3 py-1 text-xs rounded transition-colors bg-slate-700 text-slate-300 hover:bg-indigo-600 hover:text-white\"\n              title=\"33% width\"\n            >\n              Small\n            </button>\n            <div className=\"w-px bg-slate-600\" />\n            <button\n              onClick={deleteImage}\n              className=\"px-2 py-1 text-xs rounded transition-colors bg-slate-700 text-red-400 hover:bg-red-600 hover:text-white\"\n              title=\"Delete image\"\n            >\n              <Trash size={14} />\n            </button>\n          </div>\n        </BubbleMenu>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1612, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/StepDetails.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { RiderData } from '../types';\nimport { RichTextEditor } from './RichTextEditor';\n\ninterface StepDetailsProps {\n  data: RiderData;\n  setData: React.Dispatch<React.SetStateAction<RiderData>>;\n  showErrors?: boolean;\n}\n\nexport const StepDetails: React.FC<StepDetailsProps> = ({ data, setData, showErrors = false }) => {\n  const isValidEmail = (email: string): boolean => {\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    return emailRegex.test(email);\n  };\n\n  const handleLogoUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setData(prev => ({ ...prev, details: { ...prev.details, logoUrl: reader.result as string } }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto w-full\">\n      <h2 className=\"text-3xl font-bold mb-6 flex items-center gap-3\">\n        <span className=\"bg-indigo-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-lg\">3</span>\n        Details & Contact\n      </h2>\n      \n      <div className=\"bg-slate-800 rounded-xl p-8 shadow-xl border border-slate-700 space-y-6\">\n        \n        <div>\n          <label className=\"block text-sm font-medium text-slate-300 mb-2\">Act / Band Name *</label>\n          <input\n            type=\"text\"\n            value={data.details.bandName}\n            onChange={(e) => setData(prev => ({...prev, details: {...prev.details, bandName: e.target.value}}))}\n            className={`w-full bg-slate-900 border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none ${showErrors && !data.details.bandName.trim() ? 'border-red-500' : 'border-slate-600'}`}\n            placeholder=\"The Super Band\"\n          />\n          {showErrors && !data.details.bandName.trim() && (\n            <p className=\"text-red-400 text-sm mt-1\">Band Name is required</p>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Contact Person *</label>\n            <input\n              type=\"text\"\n              value={data.details.contactName}\n              onChange={(e) => setData(prev => ({...prev, details: {...prev.details, contactName: e.target.value}}))}\n              required\n              className={`w-full bg-slate-900 border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none ${showErrors && !data.details.contactName.trim() ? 'border-red-500' : 'border-slate-600'}`}\n            />\n            {showErrors && !data.details.contactName.trim() && (\n              <p className=\"text-red-400 text-sm mt-1\">Contact Person is required</p>\n            )}\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Email *</label>\n            <input\n              type=\"email\"\n              value={data.details.email}\n              onChange={(e) => setData(prev => ({...prev, details: {...prev.details, email: e.target.value}}))}\n              pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}\"\n              required\n              className={`w-full bg-slate-900 border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none ${showErrors && !isValidEmail(data.details.email) ? 'border-red-500' : 'border-slate-600'}`}\n              title=\"Please enter a valid email address\"\n            />\n            {showErrors && !isValidEmail(data.details.email) && (\n              <p className=\"text-red-400 text-sm mt-1\">Please enter a valid email address</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Phone Number</label>\n            <input\n              type=\"tel\"\n              value={data.details.phone || ''}\n              onChange={(e) => setData(prev => ({...prev, details: {...prev.details, phone: e.target.value}}))}\n              placeholder=\"e.g. +31 6 12345678\"\n              className=\"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Website</label>\n            <input\n              type=\"text\"\n              value={data.details.website || ''}\n              onChange={(e) => setData(prev => ({...prev, details: {...prev.details, website: e.target.value}}))}\n              placeholder=\"e.g. https://example.com\"\n              className=\"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none\"\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-slate-300 mb-2\">Socials</label>\n          <input\n            type=\"text\"\n            value={data.details.socials || ''}\n            onChange={(e) => setData(prev => ({...prev, details: {...prev.details, socials: e.target.value}}))}\n            placeholder=\"e.g. Instagram @bandname, TikTok @bandname\"\n            className=\"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none\"\n          />\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Show Duration</label>\n            <input\n              type=\"text\"\n              value={data.details.showDuration || ''}\n              onChange={(e) => setData(prev => ({...prev, details: {...prev.details, showDuration: e.target.value}}))}\n              placeholder=\"e.g. 60 min\"\n              className=\"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">Soundcheck Time</label>\n            <input\n              type=\"text\"\n              value={data.details.soundcheckDuration || ''}\n              onChange={(e) => setData(prev => ({...prev, details: {...prev.details, soundcheckDuration: e.target.value}}))}\n              placeholder=\"e.g. 45 min\"\n              className=\"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none\"\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-slate-300 mb-2\">Stage Dimensions</label>\n          <div className=\"flex items-center gap-2 min-w-0\">\n            <input\n              type=\"number\"\n              min={0}\n              value={data.details.stageWidth ?? ''}\n              onChange={(e) => setData(prev => ({ ...prev, details: { ...prev.details, stageWidth: e.target.value ? Number(e.target.value) : undefined } }))}\n              placeholder=\"Width\"\n              className=\"flex-1 min-w-0 bg-slate-900 border border-slate-600 rounded-lg px-3 md:px-4 py-2.5 md:py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none text-sm md:text-base\"\n            />\n            <span className=\"text-slate-400 font-bold flex-shrink-0\">×</span>\n            <input\n              type=\"number\"\n              min={0}\n              value={data.details.stageDepth ?? ''}\n              onChange={(e) => setData(prev => ({ ...prev, details: { ...prev.details, stageDepth: e.target.value ? Number(e.target.value) : undefined } }))}\n              placeholder=\"Depth\"\n              className=\"flex-1 min-w-0 bg-slate-900 border border-slate-600 rounded-lg px-3 md:px-4 py-2.5 md:py-3 text-white focus:ring-2 focus:ring-indigo-500 outline-none text-sm md:text-base\"\n            />\n            <div className=\"flex rounded-lg overflow-hidden border border-slate-600 flex-shrink-0\">\n              {(['m', 'ft'] as const).map((unit) => (\n                <button\n                  key={unit}\n                  onClick={() => setData(prev => ({ ...prev, details: { ...prev.details, stageDimensionUnit: unit } }))}\n                  className={`px-3 md:px-4 py-2.5 md:py-3 font-semibold transition-colors text-sm md:text-base ${data.details.stageDimensionUnit === unit ? 'bg-indigo-600 text-white' : 'bg-slate-900 text-slate-400 hover:text-white'}`}\n                >\n                  {unit}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <div>\n           <label className=\"block text-sm font-medium text-slate-300 mb-2\">General Notes</label>\n           <RichTextEditor\n             value={data.details.generalNotes}\n             onChange={(content) => setData(prev => ({...prev, details: {...prev.details, generalNotes: content}}))}\n             placeholder=\"e.g. We bring our own van, need 3x2m space for banners...\"\n           />\n        </div>\n\n        <div>\n           <label className=\"block text-sm font-medium text-slate-300 mb-2\">Technical Notes</label>\n           <RichTextEditor\n             value={data.details.technicalNotes}\n             onChange={(content) => setData(prev => ({...prev, details: {...prev.details, technicalNotes: content}}))}\n             placeholder=\"e.g. All vocals need effects, click track required, drummer uses in-ear monitoring...\"\n           />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-slate-300 mb-2\">Upload Logo (Optional)</label>\n          <div className=\"flex items-center gap-4\">\n             <input type=\"file\" accept=\"image/*\" onChange={handleLogoUpload} className=\"text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-600 file:text-white hover:file:bg-indigo-700 cursor-pointer\" />\n             {data.details.logoUrl && (\n               <img src={data.details.logoUrl} alt=\"Logo preview\" className=\"h-10 w-10 object-contain bg-white rounded\" />\n             )}\n          </div>\n        </div>\n\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2206, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/utils/inputUtils.ts"],"sourcesContent":["import { InstrumentSlot, InputConfig, InstrumentDefinition } from '../types';\n\n/**\n * Generate default inputs for an instrument slot.\n * This logic was extracted from InputList.tsx to be reused in StepInstruments.\n */\nexport function getDefaultInputsForSlot(\n  slot: InstrumentSlot,\n  instruments: InstrumentDefinition[]\n): InputConfig[] {\n  const instId = slot.instrumentId;\n  const inputs: InputConfig[] = [];\n\n  // Handle Drums Splitting (7 inputs)\n  if (instId === 'drums') {\n    const drumChannels = [\n      { label: 'Kick', micDi: 'D112 MKII', stand: 'Short Boom' },\n      { label: 'Snare', micDi: 'SM57', stand: 'Short Boom' },\n      { label: 'Tom 1', micDi: 'e604', stand: 'Clip-on' },\n      { label: 'Tom 2', micDi: 'e604', stand: 'Clip-on' },\n      { label: 'Floor Tom', micDi: 'e604', stand: 'Clip-on' },\n      { label: 'OH L', micDi: 'Condenser', stand: 'Tall Boom' },\n      { label: 'OH R', micDi: 'Condenser', stand: 'Tall Boom' },\n    ];\n\n    return drumChannels.map((kit) => ({\n      ...kit,\n      notes: ''\n    }));\n  }\n\n  // Handle DJ (always 2 channels: DJ L and DJ R)\n  if (instId === 'dj') {\n    return [\n      {\n        label: 'DJ L',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      },\n      {\n        label: 'DJ R',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      }\n    ];\n  }\n\n  // Handle Stereo Keys Splitting (2 inputs)\n  if (instId === 'keys_stereo') {\n    return [\n      {\n        label: 'Keys L',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      },\n      {\n        label: 'Keys R',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      }\n    ];\n  }\n\n  // Handle Stereo Tracks Splitting (2 inputs)\n  if (instId === 'tracks_stereo') {\n    return [\n      {\n        label: 'Tracks L',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      },\n      {\n        label: 'Tracks R',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      }\n    ];\n  }\n\n  // Handle Guitar 2 Amps (2 inputs)\n  if (instId === 'gtr_amp_2') {\n    return [\n      {\n        label: 'Electric Guitar Amp 1',\n        micDi: 'SM57',\n        stand: 'Short Boom',\n        notes: ''\n      },\n      {\n        label: 'Electric Guitar Amp 2',\n        micDi: 'SM57',\n        stand: 'Short Boom',\n        notes: ''\n      }\n    ];\n  }\n\n  // Handle Guitar Modeller Stereo (2 inputs)\n  if (instId === 'gtr_modeler_stereo') {\n    return [\n      {\n        label: 'Modeller L',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      },\n      {\n        label: 'Modeller R',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      }\n    ];\n  }\n\n  // Handle Bass Combined (2 inputs: DI + Amp)\n  if (instId === 'bass_combined') {\n    return [\n      {\n        label: 'Bass DI',\n        micDi: 'DI',\n        stand: '',\n        notes: ''\n      },\n      {\n        label: 'Bass Amp',\n        micDi: 'D112 MKII',\n        stand: 'Short Boom',\n        notes: ''\n      }\n    ];\n  }\n\n  // Handle Standard Instruments (1 input)\n  const instrument = instruments.find(i => i.id === instId);\n  if (instrument) {\n    let micDi = '';\n    let stand = '';\n\n    // Better defaults based on instrument type\n    if (instrument.defaultDi) {\n      micDi = 'DI';\n    } else if (instrument.type === 'Vocal') {\n      micDi = 'SM58';\n    } else if (instrument.id.includes('gtr_amp')) {\n      micDi = 'SM57';\n    } else if (instrument.id.includes('bass_') && instrument.id !== 'bass_combined') {\n      micDi = 'D112 MKII';\n    } else {\n      micDi = instrument.defaultMic || '';\n    }\n\n    // Logic to determine stand based on instrument type/variant\n    if (instrument.type === 'Vocal') {\n      stand = 'Tall Boom';\n    } else if (instrument.id.includes('amp')) {\n      stand = 'Short Boom';\n    } else if (instrument.id.includes('stand')) {\n      stand = 'Tall Boom';\n    } else if (instrument.id.includes('clip')) {\n      stand = 'Clip-on';\n    }\n\n    inputs.push({\n      label: instrument.group,\n      micDi: micDi,\n      stand: stand,\n      notes: ''\n    });\n  }\n\n  return inputs;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2402, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/InputList.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { BandMember } from '../types';\nimport { INSTRUMENTS } from '../constants';\nimport { getDefaultInputsForSlot } from '../utils/inputUtils';\n\ninterface InputListProps {\n  members: BandMember[];\n}\n\nexport const InputList: React.FC<InputListProps> = ({ members }) => {\n  // Helper to get instrument names string for a member\n  const getMemberInstrumentString = (member: BandMember) => {\n    return member.instruments\n      .map(slot => {\n          const inst = INSTRUMENTS.find(i => i.id === slot.instrumentId);\n          return inst ? (inst.group + (inst.variantLabel ? ` (${inst.variantLabel})` : '')) : 'Unknown';\n      })\n      .join(', ');\n  };\n\n  // Generate inputs based on members and their instruments\n  const inputs: any[] = [];\n\n  members.forEach((member) => {\n    member.instruments.forEach((slot) => {\n      // Get effective inputs (custom or defaults)\n      const effectiveInputs = slot.inputs?.length\n        ? slot.inputs\n        : getDefaultInputsForSlot(slot, INSTRUMENTS);\n\n      effectiveInputs.forEach((input) => {\n        inputs.push({\n          input: input.label,\n          micDi: input.micDi,\n          stand: input.stand,\n          notes: input.notes || ''\n        });\n      });\n    });\n  });\n\n  return (\n    <div className=\"w-full\">\n      {/* Band Members Summary */}\n      <div className=\"mb-6 bg-slate-50 p-4 border border-slate-200 rounded-lg print:border-black break-inside-avoid\">\n        <h4 className=\"font-bold text-black uppercase text-xs mb-3 border-b border-slate-200 pb-2\">Band Members</h4>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2\">\n          {members.map(member => (\n            <div key={member.id} className=\"text-sm text-black flex\">\n              <span className=\"font-bold min-w-[80px]\">{member.name}:</span>\n              <span className=\"italic text-slate-700\">{getMemberInstrumentString(member)}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Input List Table */}\n      <div className=\"w-full overflow-hidden rounded-lg border border-slate-200 print:border-black\">\n        <table className=\"w-full text-sm text-left\">\n          <thead className=\"bg-slate-100 text-slate-700 print:bg-slate-200 print:text-black\">\n            <tr>\n              <th className=\"py-2 px-3 font-bold border-r border-b border-slate-300 print:border-black text-black\">Instrument</th>\n              <th className=\"py-2 px-3 font-bold border-r border-b border-slate-300 print:border-black text-black\">Mic / DI</th>\n              <th className=\"py-2 px-3 font-bold border-b border-slate-300 print:border-black text-black\">Notes</th>\n            </tr>\n          </thead>\n          <tbody>\n            {inputs.map((input) => (\n              <tr key={input.input} className=\"border-b border-slate-200 last:border-0 print:border-slate-400\">\n                <td className=\"py-2 px-3 text-black border-r border-slate-200 print:border-slate-400 font-medium\">{input.input}</td>\n                <td className=\"py-2 px-3 text-black border-r border-slate-200 print:border-slate-400\">{input.micDi}</td>\n                <td className=\"py-2 px-3 text-black italic print:text-black\">{input.notes}</td>\n              </tr>\n            ))}\n            {inputs.length === 0 && (\n               <tr>\n                 <td colSpan={3} className=\"py-4 text-center text-slate-400 italic\">No instruments added yet.</td>\n               </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;;;AAWO,MAAM,YAAsC,CAAC,EAAE,OAAO,EAAE;IAC7D,qDAAqD;IACrD,MAAM,4BAA4B,CAAC;QACjC,OAAO,OAAO,WAAW,CACtB,GAAG,CAAC,CAAA;YACD,MAAM,OAAO,2HAAW,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,YAAY;YAC7D,OAAO,OAAQ,KAAK,KAAK,GAAG,CAAC,KAAK,YAAY,GAAG,CAAC,EAAE,EAAE,KAAK,YAAY,CAAC,CAAC,CAAC,GAAG,EAAE,IAAK;QACxF,GACC,IAAI,CAAC;IACV;IAEA,yDAAyD;IACzD,MAAM,SAAgB,EAAE;IAExB,QAAQ,OAAO,CAAC,CAAC;QACf,OAAO,WAAW,CAAC,OAAO,CAAC,CAAC;YAC1B,4CAA4C;YAC5C,MAAM,kBAAkB,KAAK,MAAM,EAAE,SACjC,KAAK,MAAM,GACX,IAAA,iJAAuB,EAAC,MAAM,2HAAW;YAE7C,gBAAgB,OAAO,CAAC,CAAC;gBACvB,OAAO,IAAI,CAAC;oBACV,OAAO,MAAM,KAAK;oBAClB,OAAO,MAAM,KAAK;oBAClB,OAAO,MAAM,KAAK;oBAClB,OAAO,MAAM,KAAK,IAAI;gBACxB;YACF;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA6E;;;;;;kCAC3F,6LAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAA,uBACX,6LAAC;gCAAoB,WAAU;;kDAC7B,6LAAC;wCAAK,WAAU;;4CAA0B,OAAO,IAAI;4CAAC;;;;;;;kDACtD,6LAAC;wCAAK,WAAU;kDAAyB,0BAA0B;;;;;;;+BAF3D,OAAO,EAAE;;;;;;;;;;;;;;;;0BASzB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAM,WAAU;;sCACf,6LAAC;4BAAM,WAAU;sCACf,cAAA,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAuF;;;;;;kDACrG,6LAAC;wCAAG,WAAU;kDAAuF;;;;;;kDACrG,6LAAC;wCAAG,WAAU;kDAA8E;;;;;;;;;;;;;;;;;sCAGhG,6LAAC;;gCACE,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC;wCAAqB,WAAU;;0DAC9B,6LAAC;gDAAG,WAAU;0DAAqF,MAAM,KAAK;;;;;;0DAC9G,6LAAC;gDAAG,WAAU;0DAAyE,MAAM,KAAK;;;;;;0DAClG,6LAAC;gDAAG,WAAU;0DAAgD,MAAM,KAAK;;;;;;;uCAHlE,MAAM,KAAK;;;;;gCAMrB,OAAO,MAAM,KAAK,mBAChB,6LAAC;8CACC,cAAA,6LAAC;wCAAG,SAAS;wCAAG,WAAU;kDAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpF;KA3Ea"}},
    {"offset": {"line": 2620, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/components/Preview.tsx"],"sourcesContent":["'use client'\n\nimport React, { useRef, useState, forwardRef, useImperativeHandle, useEffect } from 'react';\nimport dynamic from 'next/dynamic';\nimport { Mic, Music2, Layers, Box, Clock, Download, Loader2 } from 'lucide-react';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport { RiderData } from '../types';\nimport { InputList } from './InputList';\n\nconst StagePlotCanvas = dynamic(\n  () => import('./StagePlotCanvas').then(m => ({ default: m.StagePlotCanvas })),\n  { ssr: false }\n);\n\nexport interface PreviewHandle {\n  downloadPdf: () => Promise<void>;\n}\n\ninterface PreviewProps {\n  data: RiderData;\n}\n\nexport const Preview = forwardRef<PreviewHandle, PreviewProps>(({ data }, ref) => {\n  const previewRef = useRef<HTMLDivElement>(null);\n  const headerRef = useRef<HTMLDivElement>(null);\n  const generalNotesRef = useRef<HTMLDivElement>(null);\n  const inputListRef = useRef<HTMLDivElement>(null);\n  const technicalNotesRef = useRef<HTMLDivElement>(null);\n  const stagePlotRef = useRef<HTMLDivElement>(null);\n  const footerRef = useRef<HTMLDivElement>(null);\n  const [isGeneratingPdf, setIsGeneratingPdf] = useState(false);\n  const [topViewImage, setTopViewImage] = useState<string | null>(null);\n  const [isoViewImage, setIsoViewImage] = useState<string | null>(null);\n  const [scale, setScale] = useState(1);\n  const [naturalHeight, setNaturalHeight] = useState(0);\n\n  // Update preview scale when window resizes\n  useEffect(() => {\n    const updateScale = () => {\n      const padding = 32; // accounts for responsive px-2 sm:px-4 md:px-8 padding\n      const maxWidth = window.innerWidth - padding;\n      const previewWidth = 794;\n      setScale(Math.min(1, maxWidth / previewWidth));\n    };\n\n    updateScale();\n    window.addEventListener('resize', updateScale);\n    return () => window.removeEventListener('resize', updateScale);\n  }, []);\n\n  // Measure the preview's natural (unscaled) height so we can collapse dead space below it\n  useEffect(() => {\n    const el = previewRef.current;\n    if (!el) return;\n    const observer = new ResizeObserver(entries => {\n      setNaturalHeight(entries[0].contentRect.height);\n    });\n    observer.observe(el);\n    return () => observer.disconnect();\n  }, []);\n\n\n  const handleDownloadPDF = async () => {\n    setIsGeneratingPdf(true);\n\n    // Add CSS fix before capturing\n    const style = document.createElement('style');\n    style.textContent = `\n      img { display: inline-block !important; }\n      p, h1, h2, h3, h4, h5, h6, li, div { word-wrap: break-word !important; overflow-wrap: break-word !important; }\n      p, li { line-height: 1.5 !important; }\n    `;\n    document.head.appendChild(style);\n\n    // Clone the preview into a fixed-width off-screen container for consistent captures\n    let cloneContainer: HTMLDivElement | null = null;\n\n    try {\n      const previewEl = previewRef.current;\n      if (!previewEl) return;\n\n      // Create an off-screen clone at fixed A4 width so captures are screen-independent\n      cloneContainer = document.createElement('div');\n      cloneContainer.style.position = 'fixed';\n      cloneContainer.style.left = '-9999px';\n      cloneContainer.style.top = '0';\n      cloneContainer.style.width = '794px'; // 210mm at 96dpi\n      cloneContainer.style.maxWidth = '794px';\n      cloneContainer.style.backgroundColor = '#ffffff';\n      document.body.appendChild(cloneContainer);\n\n      const clone = previewEl.cloneNode(true) as HTMLElement;\n      clone.style.width = '100%';\n      clone.style.transform = 'none';\n      clone.style.marginBottom = '0';\n      clone.style.maxWidth = '100%';\n      cloneContainer.appendChild(clone);\n\n      // Wait for reflow and images to settle at fixed width\n      await new Promise(resolve => setTimeout(resolve, 1500));\n\n      // Find sections in the clone by data attributes\n      const clonedHeader = clone.querySelector('[data-pdf=\"header\"]') as HTMLElement | null;\n      const clonedGeneralNotes = clone.querySelector('[data-pdf=\"general-notes\"]') as HTMLElement | null;\n      const clonedInputList = clone.querySelector('[data-pdf=\"input-list\"]') as HTMLElement | null;\n      const clonedTechnicalNotes = clone.querySelector('[data-pdf=\"technical-notes\"]') as HTMLElement | null;\n      const clonedStagePlot = clone.querySelector('[data-pdf=\"stage-plot\"]') as HTMLElement | null;\n      const clonedFooter = clone.querySelector('[data-pdf=\"footer\"]') as HTMLElement | null;\n\n      const pdf = new jsPDF({\n        orientation: 'portrait',\n        unit: 'mm',\n        format: 'a4'\n      });\n\n      const pdfWidth = pdf.internal.pageSize.getWidth();\n      const pdfHeight = pdf.internal.pageSize.getHeight();\n      const pageMargin = 15;\n      const usableWidth = pdfWidth - (pageMargin * 2);\n\n      let currentY = pageMargin;\n\n      // Helper function to safely add images to PDF\n      const safeAddImage = (imageData: string, x: number, y: number, width: number, height: number, label: string) => {\n        if (!imageData || !width || !height || isNaN(width) || isNaN(height)) {\n          console.warn(`[PDF] Skipping ${label} - invalid dimensions:`, { width, height, dataLength: imageData?.length });\n          return;\n        }\n        console.log(`[PDF] Adding ${label} - dimensions: ${width}x${height}`);\n        pdf.addImage(imageData, 'JPEG', x, y, width, height);\n      };\n\n      // PAGE 1: Capture and add header + input list sections\n      if (clonedHeader) {\n        const headerCanvas = await html2canvas(clonedHeader, {\n          scale: 2,\n          useCORS: true,\n          logging: false,\n          backgroundColor: '#ffffff',\n        });\n\n        const headerHeight = (headerCanvas.height * usableWidth) / headerCanvas.width;\n        safeAddImage(headerCanvas.toDataURL('image/jpeg', 0.99), pageMargin, currentY, usableWidth, headerHeight, 'Header');\n        currentY += headerHeight + 8;\n      }\n\n      // Add general notes section if it exists\n      if (clonedGeneralNotes) {\n        const generalNotesCanvas = await html2canvas(clonedGeneralNotes, {\n          scale: 3,\n          useCORS: true,\n          logging: false,\n          backgroundColor: '#ffffff',\n          allowTaint: true,\n          imageTimeout: 5000,\n          removeContainer: false,\n        });\n\n        const generalNotesHeight = (generalNotesCanvas.height * usableWidth) / generalNotesCanvas.width;\n\n        if (currentY + generalNotesHeight > pdfHeight - pageMargin) {\n          pdf.addPage();\n          currentY = pageMargin;\n        }\n\n        safeAddImage(generalNotesCanvas.toDataURL('image/jpeg', 0.99), pageMargin, currentY, usableWidth, generalNotesHeight, 'General Notes');\n        currentY += generalNotesHeight + 8;\n      }\n\n      // Add input list section\n      if (clonedInputList) {\n        const inputListCanvas = await html2canvas(clonedInputList, {\n          scale: 2,\n          useCORS: true,\n          logging: false,\n          backgroundColor: '#ffffff',\n        });\n\n        const inputListHeight = (inputListCanvas.height * usableWidth) / inputListCanvas.width;\n\n        if (currentY + inputListHeight > pdfHeight - pageMargin) {\n          pdf.addPage();\n          currentY = pageMargin;\n        }\n\n        safeAddImage(inputListCanvas.toDataURL('image/jpeg', 0.99), pageMargin, currentY, usableWidth, inputListHeight, 'Input List');\n        currentY += inputListHeight;\n      }\n\n      // Add technical notes section if it exists\n      if (clonedTechnicalNotes) {\n        const technicalNotesCanvas = await html2canvas(clonedTechnicalNotes, {\n          scale: 3,\n          useCORS: true,\n          logging: false,\n          backgroundColor: '#ffffff',\n          allowTaint: true,\n          imageTimeout: 5000,\n          removeContainer: false,\n        });\n\n        const technicalNotesHeight = (technicalNotesCanvas.height * usableWidth) / technicalNotesCanvas.width;\n\n        if (currentY + technicalNotesHeight > pdfHeight - pageMargin) {\n          pdf.addPage();\n          currentY = pageMargin;\n        }\n\n        safeAddImage(technicalNotesCanvas.toDataURL('image/jpeg', 0.99), pageMargin, currentY, usableWidth, technicalNotesHeight, 'Technical Notes');\n        currentY += technicalNotesHeight + 8;\n      }\n\n      // PAGE 2+: Add stage plot images directly (captured at fixed size for consistency)\n      pdf.addPage();\n      currentY = pageMargin;\n\n      // Add \"Stage Plot\" heading\n      if (clonedStagePlot) {\n        const headingEl = clonedStagePlot.querySelector('h3');\n        if (headingEl) {\n          const headingCanvas = await html2canvas(headingEl as HTMLElement, {\n            scale: 2,\n            useCORS: true,\n            logging: false,\n            backgroundColor: '#ffffff',\n          });\n          const headingHeight = (headingCanvas.height * usableWidth) / headingCanvas.width;\n          safeAddImage(headingCanvas.toDataURL('image/jpeg', 0.99), pageMargin, currentY, usableWidth, headingHeight, 'Stage Plot Heading');\n          currentY += headingHeight + 4;\n        }\n      }\n\n      // Add captured stage plot images at known 8:5 aspect ratio\n      const plotWidth = usableWidth * 0.9;\n      const plotHeight = plotWidth * (5 / 8);\n      const plotX = pageMargin + (usableWidth - plotWidth) / 2;\n\n      if (topViewImage) {\n        safeAddImage(topViewImage, plotX, currentY, plotWidth, plotHeight, 'Stage Plot - Top View');\n        currentY += plotHeight + 6;\n      }\n\n      if (isoViewImage) {\n        if (currentY + plotHeight > pdfHeight - pageMargin) {\n          pdf.addPage();\n          currentY = pageMargin;\n        }\n        safeAddImage(isoViewImage, plotX, currentY, plotWidth, plotHeight, 'Stage Plot - 3D View');\n      }\n\n      // Add footer to all pages\n      if (clonedFooter) {\n        const footerCanvas = await html2canvas(clonedFooter, {\n          scale: 2,\n          useCORS: true,\n          logging: false,\n          backgroundColor: '#ffffff',\n        });\n\n        const footerHeight = (footerCanvas.height * usableWidth) / footerCanvas.width;\n        const footerY = pdfHeight - pageMargin - footerHeight - 5;\n        const totalPages = pdf.getNumberOfPages();\n\n        for (let i = 1; i <= totalPages; i++) {\n          pdf.setPage(i);\n          safeAddImage(footerCanvas.toDataURL('image/jpeg', 0.99), pageMargin, footerY, usableWidth, footerHeight, `Footer (Page ${i})`);\n        }\n      }\n\n      pdf.save(`${data.details.bandName || 'tech-rider'}.pdf`);\n    } catch (err) {\n      console.error(err);\n      alert('Error generating PDF. Please try again.');\n    } finally {\n      // Remove the off-screen clone\n      if (cloneContainer) {\n        document.body.removeChild(cloneContainer);\n      }\n      // Remove CSS fix\n      document.head.removeChild(style);\n      setIsGeneratingPdf(false);\n    }\n  };\n\n  useImperativeHandle(ref, () => ({\n    downloadPdf: handleDownloadPDF\n  }));\n\n  return (\n    <div className=\"w-full flex flex-col items-center bg-slate-900\">\n      <div className=\"no-print w-full mx-2 sm:mx-4 md:mx-8 max-w-2xl mb-6 flex flex-col sm:flex-row gap-4 justify-between items-center bg-slate-800 p-4 rounded-lg\">\n         <div>\n           <h2 className=\"text-xl font-bold text-white\">Your Rider is ready!</h2>\n           <p className=\"text-slate-400 text-sm\">Review it below and download as PDF.</p>\n         </div>\n         <button\n           onClick={handleDownloadPDF}\n           disabled={isGeneratingPdf}\n           className=\"bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-800 disabled:cursor-wait text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg hover:shadow-indigo-500/25 transition-all whitespace-nowrap\"\n         >\n           {isGeneratingPdf ? <Loader2 className=\"animate-spin\" size={18} /> : <Download size={18} />}\n           {isGeneratingPdf ? 'Generating...' : 'Download PDF'}\n         </button>\n      </div>\n\n      {/* Scale container — no transform here, just centering */}\n      <div className=\"flex justify-center w-full bg-slate-900\">\n      {/* A4 PAPER PREVIEW — scaled here so layout space collapses naturally via negative margin */}\n      <div ref={previewRef} className=\"a4-page bg-white text-black shadow-2xl relative flex flex-col gap-8\" style={{ width: '794px', padding: '56px', boxSizing: 'border-box', transform: `scale(${scale})`, transformOrigin: 'top center', marginBottom: `${-naturalHeight * (1 - scale)}px` }}>\n        \n        {/* Header */}\n        <div ref={headerRef} data-pdf=\"header\" className=\"flex justify-between items-start border-b-2 border-black pb-6\">\n          <div>\n            <h1 className=\"text-4xl font-black uppercase tracking-tighter mb-2\">{data.details.bandName || 'BAND NAME'}</h1>\n            <div className=\"flex gap-8 text-sm\">\n                <div className=\"space-y-1\">\n                    {data.details.contactName && <p><span className=\"font-bold\">Contact:</span> {data.details.contactName}</p>}\n                    {data.details.email && <p><span className=\"font-bold\">Email:</span> {data.details.email}</p>}\n                    {data.details.phone && <p><span className=\"font-bold\">Phone:</span> {data.details.phone}</p>}\n                    {data.details.website && <p><span className=\"font-bold\">Website:</span> {data.details.website}</p>}\n                    {data.details.socials && <p><span className=\"font-bold\">Socials:</span> {data.details.socials}</p>}\n                </div>\n                {(data.details.showDuration || data.details.soundcheckDuration || (data.details.stageWidth && data.details.stageDepth)) && (\n                    <div className=\"space-y-1 border-l border-slate-300 pl-8\">\n                         {data.details.showDuration && <p className=\"flex items-center gap-2\"><Clock size={14} /> <span className=\"font-bold\">Show:</span> {data.details.showDuration}</p>}\n                         {data.details.soundcheckDuration && <p className=\"flex items-center gap-2\"><Clock size={14} /> <span className=\"font-bold\">Soundcheck:</span> {data.details.soundcheckDuration}</p>}\n                         {data.details.stageWidth && data.details.stageDepth && (\n                           <p className=\"flex items-center gap-2\"><Layers size={14} /> <span className=\"font-bold\">Stage:</span> {data.details.stageWidth}{data.details.stageDimensionUnit} × {data.details.stageDepth}{data.details.stageDimensionUnit}</p>\n                         )}\n                    </div>\n                )}\n            </div>\n          </div>\n          {data.details.logoUrl ? (\n             <img src={data.details.logoUrl} alt=\"Band Logo\" className=\"h-24 max-w-[150px] object-contain\" />\n          ) : (\n             <div className=\"h-24 w-24 bg-slate-100 flex items-center justify-center text-slate-300 font-bold border border-slate-200\">LOGO</div>\n          )}\n        </div>\n\n        {/* Notes */}\n        {data.details.generalNotes && (\n          <div ref={generalNotesRef} data-pdf=\"general-notes\" className=\"text-sm break-inside-avoid\">\n             <div\n               className=\"max-w-full break-words [&_*]:break-words [&_h2]:font-bold [&_h2]:text-base [&_h2]:mt-3 [&_h2]:mb-2 [&_h3]:font-bold [&_h3]:text-sm [&_h3]:mt-2 [&_h3]:mb-1 [&_strong]:font-bold [&_em]:italic [&_a]:text-blue-600 [&_a]:underline [&_ul]:list-disc [&_ul]:ml-5 [&_ol]:list-decimal [&_ol]:ml-5 [&_li]:my-1 [&_img]:max-w-full [&_img]:h-auto [&_img]:my-2 [&_p]:break-words [&_p]:word-wrap\"\n               dangerouslySetInnerHTML={{ __html: data.details.generalNotes }}\n             />\n          </div>\n        )}\n\n        {/* Input List */}\n        <div ref={inputListRef} data-pdf=\"input-list\" className=\"break-inside-avoid\">\n          <h3 className=\"text-xl font-bold uppercase border-b border-black mb-4 flex items-center gap-2\">\n            <Mic size={20} /> Input List\n          </h3>\n          <InputList members={data.members} />\n        </div>\n\n        {/* Technical Notes */}\n        {data.details.technicalNotes && (\n          <div ref={technicalNotesRef} data-pdf=\"technical-notes\" className=\"text-sm break-inside-avoid\">\n             <div\n               className=\"max-w-full break-words [&_*]:break-words [&_h2]:font-bold [&_h2]:text-base [&_h2]:mt-3 [&_h2]:mb-2 [&_h3]:font-bold [&_h3]:text-sm [&_h3]:mt-2 [&_h3]:mb-1 [&_strong]:font-bold [&_em]:italic [&_a]:text-blue-600 [&_a]:underline [&_ul]:list-disc [&_ul]:ml-5 [&_ol]:list-decimal [&_ol]:ml-5 [&_li]:my-1 [&_img]:max-w-full [&_img]:h-auto [&_img]:my-2 [&_p]:break-words [&_p]:word-wrap\"\n               dangerouslySetInnerHTML={{ __html: data.details.technicalNotes }}\n             />\n          </div>\n        )}\n\n        {/* Stageplot */}\n        <div ref={stagePlotRef} data-pdf=\"stage-plot\" className=\"pt-8\">\n          <h3 className=\"text-xl font-bold uppercase border-b border-black mb-4 flex items-center gap-2\">\n            <Music2 size={20} /> Stage Plot\n          </h3>\n\n          <div className=\"grid grid-cols-1 gap-6 mt-4\">\n              {/* Top View */}\n              <div className=\"relative w-full max-w-[90%] aspect-[8/5] mx-auto\">\n                <div className=\"absolute top-2 left-2 z-10 bg-white/90 p-1.5 rounded-md border border-slate-300 shadow-sm print:border-black\">\n                   <Layers size={24} className=\"text-black\" />\n                </div>\n                {topViewImage ? (\n                  <img src={topViewImage} alt=\"Stage plot - top view\" className=\"w-full h-full object-contain border-2 border-slate-300 bg-slate-50\" />\n                ) : (\n                  <div className=\"w-full h-full bg-slate-100 flex items-center justify-center text-slate-400 border-2 border-slate-300\">Loading stage plot...</div>\n                )}\n              </div>\n\n              {/* 3D View */}\n              <div className=\"relative w-full max-w-[90%] aspect-[8/5] mx-auto\">\n                <div className=\"absolute top-2 left-2 z-10 bg-white/90 p-1.5 rounded-md border border-slate-300 shadow-sm print:border-black\">\n                   <Box size={24} className=\"text-black\" />\n                </div>\n                {isoViewImage ? (\n                  <img src={isoViewImage} alt=\"Stage plot - 3D view\" className=\"w-full h-full object-contain border-2 border-slate-300 bg-slate-50\" />\n                ) : (\n                  <div className=\"w-full h-full bg-slate-100 flex items-center justify-center text-slate-400 border-2 border-slate-300\">Loading stage plot...</div>\n                )}\n              </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div ref={footerRef} data-pdf=\"footer\" className=\"mt-auto pt-8 pb-2 border-t border-slate-200 flex justify-between items-center text-[10px] text-slate-400 uppercase\">\n           <span>{data.details.bandName} - Tech Rider</span>\n           <span>Created with miked.app</span>\n        </div>\n\n      </div>\n      </div>\n\n      {/* Off-screen fixed-size containers for consistent stage plot captures */}\n      {!topViewImage && (\n        <div style={{ position: 'fixed', left: '-9999px', top: 0, width: 1600, height: 1000 }} aria-hidden=\"true\">\n          <StagePlotCanvas items={data.stagePlot} setItems={() => {}} editable={false} viewMode=\"top\" showAudienceLabel={true} isPreview={true} members={data.members} onScreenshot={setTopViewImage} />\n        </div>\n      )}\n      {!isoViewImage && (\n        <div style={{ position: 'fixed', left: '-9999px', top: 0, width: 1600, height: 1000 }} aria-hidden=\"true\">\n          <StagePlotCanvas items={data.stagePlot} setItems={() => {}} editable={false} viewMode=\"isometric\" showAudienceLabel={true} isPreview={true} members={data.members} onScreenshot={setIsoViewImage} />\n        </div>\n      )}\n    </div>\n  );\n});"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3527, "column": 0}, "map": {"version":3,"sources":["file:///Users/rikdewit/code/Miked.app/app/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useRef } from 'react';\nimport dynamic from 'next/dynamic';\nimport { useRiderState } from '@/hooks/useRiderState';\nimport { Header } from '@/components/Header';\nimport { FooterNav } from '@/components/FooterNav';\nimport { Landing } from '@/components/Landing';\nimport { StepDetails } from '@/components/StepDetails';\nimport { Preview, PreviewHandle } from '@/components/Preview';\n\n// Three.js Canvas components need ssr:false\nconst StepInstruments = dynamic(() => import('@/components/StepInstruments').then(m => ({ default: m.StepInstruments })), { ssr: false })\nconst StepStagePlot = dynamic(() => import('@/components/StepStagePlot').then(m => ({ default: m.StepStagePlot })), { ssr: false })\n\nconst App: React.FC = () => {\n  const [step, setStep] = useState(0); // 0: Landing, 1: Instruments, 2: Stage, 3: Details, 4: Preview\n  const previewRef = useRef<PreviewHandle>(null);\n  const [isDownloading, setIsDownloading] = useState(false);\n  const [showDetailsErrors, setShowDetailsErrors] = useState(false);\n\n  const {\n    data,\n    setData,\n    addMember,\n    applyRockTemplate,\n    updateMemberName,\n    addMemberInstrument,\n    updateMemberInstrument,\n    removeMemberInstrument,\n    removeMember,\n    updateStageItems,\n    updateInstrumentInputs\n  } = useRiderState();\n\n  // --- Navigation & Validation ---\n  const isValidEmail = (email: string): boolean => {\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    return emailRegex.test(email);\n  };\n\n  const canProceed = () => {\n    if (step === 1) {\n        return data.members.length > 0 &&\n               data.members.every(m => m.name.trim() !== '' && m.instruments.length > 0);\n    }\n    if (step === 3) {\n        return data.details.bandName.trim() !== '' &&\n               data.details.contactName.trim() !== '' &&\n               isValidEmail(data.details.email);\n    }\n    return true;\n  };\n\n  const handleDownload = async () => {\n    if (previewRef.current) {\n      setIsDownloading(true);\n      await previewRef.current.downloadPdf();\n      setIsDownloading(false);\n    }\n  };\n\n  const handleAttemptProceed = () => {\n    if (step === 3) {\n      setShowDetailsErrors(true);\n    }\n  };\n\n  const handleSetStep = (newStep: number | ((prevStep: number) => number)) => {\n    setShowDetailsErrors(false);\n    setStep(newStep);\n  };\n\n  return (\n    <div className=\"h-dvh overflow-hidden bg-slate-900 text-slate-100 flex flex-col\">\n      <Header step={step} setStep={handleSetStep} />\n\n      <main className=\"flex-1 min-h-0 overflow-hidden flex flex-col\">\n        {/* Padding and centering for non-stage steps */}\n        {step !== 2 && (\n          <div className={`flex-1 overflow-y-auto flex flex-col items-center ${step === 4 ? 'px-2 sm:px-4 md:px-8 py-4 md:py-8' : 'p-4 md:p-8'}`}>\n            {step === 0 && <Landing onStart={() => setStep(1)} />}\n\n            {step === 1 && (\n              <StepInstruments\n                data={data}\n                addMember={addMember}\n                applyRockTemplate={applyRockTemplate}\n                updateMemberName={updateMemberName}\n                updateMemberInstrument={updateMemberInstrument}\n                removeMemberInstrument={removeMemberInstrument}\n                addMemberInstrument={addMemberInstrument}\n                removeMember={removeMember}\n                updateInstrumentInputs={updateInstrumentInputs}\n              />\n            )}\n\n            {step === 3 && (\n              <StepDetails\n                data={data}\n                setData={setData}\n                showErrors={showDetailsErrors}\n              />\n            )}\n\n            {step === 4 && (\n              <Preview data={data} ref={previewRef} />\n            )}\n          </div>\n        )}\n\n        {/* Full height for stage plot */}\n        {step === 2 && (\n          <div className=\"flex-1 min-h-0 p-4 md:p-8 overflow-hidden\">\n            <StepStagePlot\n              data={data}\n              setData={setData}\n              updateStageItems={updateStageItems}\n            />\n          </div>\n        )}\n      </main>\n\n      <FooterNav\n        step={step}\n        setStep={handleSetStep}\n        canProceed={canProceed()}\n        onDownload={handleDownload}\n        isDownloading={isDownloading}\n        onAttemptProceed={handleAttemptProceed}\n      />\n    </div>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"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"}}]
}