(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45489,e=>{"use strict";var t=e.i(43476),n=e.i(71645),o=e.i(75056),s=e.i(31067),r=e.i(15080),a=e.i(71753),i=e.i(32009),l=Object.defineProperty;class c{constructor(){((e,t,n)=>{let o,s;s=void 0,(o="symbol"!=typeof t?t+"":t)in e?l(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s})(this,"_listeners")}addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,o=n.length;t<o;t++)n[t].call(this,e);e.target=null}}}var d=Object.defineProperty,m=(e,t,n)=>{let o;return(o="symbol"!=typeof t?t+"":t)in e?d(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,n};let p=new i.Ray,h=new i.Plane,u=Math.cos(Math.PI/180*70),b=(e,t)=>(e%t+t)%t;class x extends c{constructor(e,t){super(),m(this,"object"),m(this,"domElement"),m(this,"enabled",!0),m(this,"target",new i.Vector3),m(this,"minDistance",0),m(this,"maxDistance",1/0),m(this,"minZoom",0),m(this,"maxZoom",1/0),m(this,"minPolarAngle",0),m(this,"maxPolarAngle",Math.PI),m(this,"minAzimuthAngle",-1/0),m(this,"maxAzimuthAngle",1/0),m(this,"enableDamping",!1),m(this,"dampingFactor",.05),m(this,"enableZoom",!0),m(this,"zoomSpeed",1),m(this,"enableRotate",!0),m(this,"rotateSpeed",1),m(this,"enablePan",!0),m(this,"panSpeed",1),m(this,"screenSpacePanning",!0),m(this,"keyPanSpeed",7),m(this,"zoomToCursor",!1),m(this,"autoRotate",!1),m(this,"autoRotateSpeed",2),m(this,"reverseOrbit",!1),m(this,"reverseHorizontalOrbit",!1),m(this,"reverseVerticalOrbit",!1),m(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),m(this,"mouseButtons",{LEFT:i.MOUSE.ROTATE,MIDDLE:i.MOUSE.DOLLY,RIGHT:i.MOUSE.PAN}),m(this,"touches",{ONE:i.TOUCH.ROTATE,TWO:i.TOUCH.DOLLY_PAN}),m(this,"target0"),m(this,"position0"),m(this,"zoom0"),m(this,"_domElementKeyEvents",null),m(this,"getPolarAngle"),m(this,"getAzimuthalAngle"),m(this,"setPolarAngle"),m(this,"setAzimuthalAngle"),m(this,"getDistance"),m(this,"getZoomScale"),m(this,"listenToKeyEvents"),m(this,"stopListenToKeyEvents"),m(this,"saveState"),m(this,"reset"),m(this,"update"),m(this,"connect"),m(this,"dispose"),m(this,"dollyIn"),m(this,"dollyOut"),m(this,"getScale"),m(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=e=>{let t=b(e,2*Math.PI),o=d.phi;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let s=Math.abs(t-o);2*Math.PI-s<s&&(t<o?t+=2*Math.PI:o+=2*Math.PI),x.phi=t-o,n.update()},this.setAzimuthalAngle=e=>{let t=b(e,2*Math.PI),o=d.theta;o<0&&(o+=2*Math.PI),t<0&&(t+=2*Math.PI);let s=Math.abs(t-o);2*Math.PI-s<s&&(t<o?t+=2*Math.PI:o+=2*Math.PI),x.theta=t-o,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",ee),this._domElementKeyEvents=e},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ee),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(o),n.update(),l=a.NONE},this.update=(()=>{let t=new i.Vector3,s=new i.Vector3(0,1,0),r=new i.Quaternion().setFromUnitVectors(e.up,s),m=r.clone().invert(),b=new i.Vector3,y=new i.Quaternion,j=2*Math.PI;return function(){let v=n.object.position;r.setFromUnitVectors(e.up,s),m.copy(r).invert(),t.copy(v).sub(n.target),t.applyQuaternion(r),d.setFromVector3(t),n.autoRotate&&l===a.NONE&&k(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(d.theta+=x.theta*n.dampingFactor,d.phi+=x.phi*n.dampingFactor):(d.theta+=x.theta,d.phi+=x.phi);let w=n.minAzimuthAngle,E=n.maxAzimuthAngle;isFinite(w)&&isFinite(E)&&(w<-Math.PI?w+=j:w>Math.PI&&(w-=j),E<-Math.PI?E+=j:E>Math.PI&&(E-=j),w<=E?d.theta=Math.max(w,Math.min(E,d.theta)):d.theta=d.theta>(w+E)/2?Math.max(w,d.theta):Math.min(E,d.theta)),d.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,d.phi)),d.makeSafe(),!0===n.enableDamping?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),n.zoomToCursor&&N||n.object.isOrthographicCamera?d.radius=H(d.radius):d.radius=H(d.radius*g),t.setFromSpherical(d),t.applyQuaternion(m),v.copy(n.target).add(t),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),!0===n.enableDamping?(x.theta*=1-n.dampingFactor,x.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(x.set(0,0,0),f.set(0,0,0));let P=!1;if(n.zoomToCursor&&N){let o=null;if(n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera){let e=t.length();o=H(e*g);let s=e-o;n.object.position.addScaledVector(S,s),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){let e=new i.Vector3(I.x,I.y,0);e.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix(),P=!0;let s=new i.Vector3(I.x,I.y,0);s.unproject(n.object),n.object.position.sub(s).add(e),n.object.updateMatrixWorld(),o=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;null!==o&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(o).add(n.object.position):(p.origin.copy(n.object.position),p.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(p.direction))<u?e.lookAt(n.target):(h.setFromNormalAndCoplanarPoint(n.object.up,n.target),p.intersectPlane(h,n.target))))}else n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera&&(P=1!==g)&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/g)),n.object.updateProjectionMatrix());return g=1,N=!1,!!(P||b.distanceToSquared(n.object.position)>c||8*(1-y.dot(n.object.quaternion))>c)&&(n.dispatchEvent(o),b.copy(n.object.position),y.copy(n.object.quaternion),P=!1,!0)}})(),this.connect=e=>{n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",et),n.domElement.addEventListener("pointerdown",W),n.domElement.addEventListener("pointercancel",Q),n.domElement.addEventListener("wheel",J)},this.dispose=()=>{var e,t,o,s,r,a;n.domElement&&(n.domElement.style.touchAction="auto"),null==(e=n.domElement)||e.removeEventListener("contextmenu",et),null==(t=n.domElement)||t.removeEventListener("pointerdown",W),null==(o=n.domElement)||o.removeEventListener("pointercancel",Q),null==(s=n.domElement)||s.removeEventListener("wheel",J),null==(r=n.domElement)||r.ownerDocument.removeEventListener("pointermove",q),null==(a=n.domElement)||a.ownerDocument.removeEventListener("pointerup",Q),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",ee)};const n=this,o={type:"change"},s={type:"start"},r={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new i.Spherical,x=new i.Spherical;let g=1;const f=new i.Vector3,y=new i.Vector2,j=new i.Vector2,v=new i.Vector2,w=new i.Vector2,E=new i.Vector2,P=new i.Vector2,T=new i.Vector2,M=new i.Vector2,O=new i.Vector2,S=new i.Vector3,I=new i.Vector2;let N=!1;const A=[],C={};function L(){return Math.pow(.95,n.zoomSpeed)}function k(e){n.reverseOrbit||n.reverseHorizontalOrbit?x.theta+=e:x.theta-=e}function D(e){n.reverseOrbit||n.reverseVerticalOrbit?x.phi+=e:x.phi-=e}const R=(()=>{let e=new i.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),f.add(e)}})(),z=(()=>{let e=new i.Vector3;return function(t,o){!0===n.screenSpacePanning?e.setFromMatrixColumn(o,1):(e.setFromMatrixColumn(o,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),f.add(e)}})(),_=(()=>{let e=new i.Vector3;return function(t,o){let s=n.domElement;if(s&&n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera){let r=n.object.position;e.copy(r).sub(n.target);let a=e.length();R(2*t*(a*=Math.tan(n.object.fov/2*Math.PI/180))/s.clientHeight,n.object.matrix),z(2*o*a/s.clientHeight,n.object.matrix)}else s&&n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?(R(t*(n.object.right-n.object.left)/n.object.zoom/s.clientWidth,n.object.matrix),z(o*(n.object.top-n.object.bottom)/n.object.zoom/s.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function U(e){n.object instanceof i.PerspectiveCamera&&n.object.isPerspectiveCamera||n.object instanceof i.OrthographicCamera&&n.object.isOrthographicCamera?g=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Y(e){if(!n.zoomToCursor||!n.domElement)return;N=!0;let t=n.domElement.getBoundingClientRect(),o=e.clientX-t.left,s=e.clientY-t.top,r=t.width,a=t.height;I.x=o/r*2-1,I.y=-(s/a*2)+1,S.set(I.x,I.y,1).unproject(n.object).sub(n.object.position).normalize()}function H(e){return Math.max(n.minDistance,Math.min(n.maxDistance,e))}function V(e){y.set(e.clientX,e.clientY)}function F(e){w.set(e.clientX,e.clientY)}function G(){if(1==A.length)y.set(A[0].pageX,A[0].pageY);else{let e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);y.set(e,t)}}function X(){if(1==A.length)w.set(A[0].pageX,A[0].pageY);else{let e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);w.set(e,t)}}function Z(){let e=A[0].pageX-A[1].pageX,t=A[0].pageY-A[1].pageY,n=Math.sqrt(e*e+t*t);T.set(0,n)}function $(e){if(1==A.length)j.set(e.pageX,e.pageY);else{let t=eo(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);j.set(n,o)}v.subVectors(j,y).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(k(2*Math.PI*v.x/t.clientHeight),D(2*Math.PI*v.y/t.clientHeight)),y.copy(j)}function B(e){if(1==A.length)E.set(e.pageX,e.pageY);else{let t=eo(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);E.set(n,o)}P.subVectors(E,w).multiplyScalar(n.panSpeed),_(P.x,P.y),w.copy(E)}function K(e){var t;let o=eo(e),s=e.pageX-o.x,r=e.pageY-o.y,a=Math.sqrt(s*s+r*r);M.set(0,a),O.set(0,Math.pow(M.y/T.y,n.zoomSpeed)),t=O.y,U(g/t),T.copy(M)}function W(e){var t,o,r;!1!==n.enabled&&(0===A.length&&(null==(t=n.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(o=n.domElement)||o.ownerDocument.addEventListener("pointerup",Q)),r=e,A.push(r),"touch"===e.pointerType?function(e){switch(en(e),A.length){case 1:switch(n.touches.ONE){case i.TOUCH.ROTATE:if(!1===n.enableRotate)return;G(),l=a.TOUCH_ROTATE;break;case i.TOUCH.PAN:if(!1===n.enablePan)return;X(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(n.touches.TWO){case i.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&Z(),n.enablePan&&X(),l=a.TOUCH_DOLLY_PAN;break;case i.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&Z(),n.enableRotate&&G(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case i.MOUSE.DOLLY:if(!1===n.enableZoom)return;Y(e),T.set(e.clientX,e.clientY),l=a.DOLLY;break;case i.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;F(e),l=a.PAN}else{if(!1===n.enableRotate)return;V(e),l=a.ROTATE}break;case i.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;V(e),l=a.ROTATE}else{if(!1===n.enablePan)return;F(e),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&n.dispatchEvent(s)}(e))}function q(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(en(e),l){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;$(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&K(e),n.enablePan&&B(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&K(e),n.enableRotate&&$(e),n.update();break;default:l=a.NONE}}(e):function(e){if(!1!==n.enabled)switch(l){case a.ROTATE:let t;if(!1===n.enableRotate)return;j.set(e.clientX,e.clientY),v.subVectors(j,y).multiplyScalar(n.rotateSpeed),(t=n.domElement)&&(k(2*Math.PI*v.x/t.clientHeight),D(2*Math.PI*v.y/t.clientHeight)),y.copy(j),n.update();break;case a.DOLLY:var o,s;if(!1===n.enableZoom)return;(M.set(e.clientX,e.clientY),O.subVectors(M,T),O.y>0)?(o=L(),U(g/o)):O.y<0&&(s=L(),U(g*s)),T.copy(M),n.update();break;case a.PAN:if(!1===n.enablePan)return;E.set(e.clientX,e.clientY),P.subVectors(E,w).multiplyScalar(n.panSpeed),_(P.x,P.y),w.copy(E),n.update()}}(e))}function Q(e){var t,o,s;(function(e){delete C[e.pointerId];for(let t=0;t<A.length;t++)if(A[t].pointerId==e.pointerId)return void A.splice(t,1)})(e),0===A.length&&(null==(t=n.domElement)||t.releasePointerCapture(e.pointerId),null==(o=n.domElement)||o.ownerDocument.removeEventListener("pointermove",q),null==(s=n.domElement)||s.ownerDocument.removeEventListener("pointerup",Q)),n.dispatchEvent(r),l=a.NONE}function J(e){if(!1!==n.enabled&&!1!==n.enableZoom&&(l===a.NONE||l===a.ROTATE)){var t,o;e.preventDefault(),n.dispatchEvent(s),(Y(e),e.deltaY<0)?(t=L(),U(g*t)):e.deltaY>0&&(o=L(),U(g/o)),n.update(),n.dispatchEvent(r)}}function ee(e){if(!1!==n.enabled&&!1!==n.enablePan){let t=!1;switch(e.code){case n.keys.UP:_(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:_(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:_(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:_(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}}function et(e){!1!==n.enabled&&e.preventDefault()}function en(e){let t=C[e.pointerId];void 0===t&&(t=new i.Vector2,C[e.pointerId]=t),t.set(e.pageX,e.pageY)}function eo(e){return C[(e.pointerId===A[0].pointerId?A[1]:A[0]).pointerId]}this.dollyIn=(e=L())=>{U(g*e),n.update()},this.dollyOut=(e=L())=>{U(g/e),n.update()},this.getScale=()=>g,this.setScale=e=>{U(e),n.update()},this.getZoomScale=()=>L(),void 0!==t&&this.connect(t),this.update()}}let g=n.forwardRef(({makeDefault:e,camera:t,regress:o,domElement:i,enableDamping:l=!0,keyEvents:c=!1,onChange:d,onStart:m,onEnd:p,...h},u)=>{let b=(0,r.useThree)(e=>e.invalidate),g=(0,r.useThree)(e=>e.camera),f=(0,r.useThree)(e=>e.gl),y=(0,r.useThree)(e=>e.events),j=(0,r.useThree)(e=>e.setEvents),v=(0,r.useThree)(e=>e.set),w=(0,r.useThree)(e=>e.get),E=(0,r.useThree)(e=>e.performance),P=t||g,T=i||y.connected||f.domElement,M=n.useMemo(()=>new x(P),[P]);return(0,a.useFrame)(()=>{M.enabled&&M.update()},-1),n.useEffect(()=>(c&&M.connect(!0===c?T:c),M.connect(T),()=>void M.dispose()),[c,T,o,M,b]),n.useEffect(()=>{let e=e=>{b(),o&&E.regress(),d&&d(e)},t=e=>{m&&m(e)},n=e=>{p&&p(e)};return M.addEventListener("change",e),M.addEventListener("start",t),M.addEventListener("end",n),()=>{M.removeEventListener("start",t),M.removeEventListener("end",n),M.removeEventListener("change",e)}},[d,m,p,M,b,j]),n.useEffect(()=>{if(e){let e=w().controls;return v({controls:M}),()=>v({controls:e})}},[e,M]),n.createElement("primitive",(0,s.default)({ref:u,object:M,enableDamping:l},h))});var f=e.i(39355),y=e.i(64807),j=e.i(72064),v=e.i(69916),w=e.i(99857),E=e.i(23644);let P=({position:e,args:n,color:o,type:s,pose:r})=>{let[a,i,l]=n;return(0,t.jsx)("group",{position:e,children:"person"===s?(0,t.jsx)(E.PersonModel,{pose:r}):"drums"===s?(0,t.jsx)(E.DrumsModel,{}):"amp"===s?(0,t.jsx)(E.AmpModel,{color:o}):"keys"===s?(0,t.jsxs)("group",{children:[(0,t.jsx)(E.StandModel,{color:"#64748b"}),(0,t.jsx)("group",{position:[0,.8,0],children:(0,t.jsx)(E.SynthModel,{})})]}):"mic"===s?(0,t.jsx)(E.MicStandModel,{color:o}):"modeller"===s?(0,t.jsxs)("group",{position:[0,.05,0],children:[(0,t.jsxs)("mesh",{castShadow:!0,receiveShadow:!0,position:[0,0,0],children:[(0,t.jsx)("boxGeometry",{args:[.55,.08,.3]}),(0,t.jsx)("meshStandardMaterial",{color:"#111827",roughness:.5,metalness:.4})]}),(0,t.jsxs)("mesh",{position:[0,.041,0],children:[(0,t.jsx)("boxGeometry",{args:[.5,.002,.25]}),(0,t.jsx)("meshStandardMaterial",{color:"#374151",roughness:.3,metalness:.6})]}),(0,t.jsxs)("mesh",{position:[-.15,.045,0],children:[(0,t.jsx)("boxGeometry",{args:[.08,.015,.04]}),(0,t.jsx)("meshStandardMaterial",{color:"#10b981",roughness:.2,metalness:.8})]}),(0,t.jsxs)("mesh",{position:[0,.045,0],children:[(0,t.jsx)("boxGeometry",{args:[.08,.015,.04]}),(0,t.jsx)("meshStandardMaterial",{color:"#10b981",roughness:.2,metalness:.8})]}),(0,t.jsxs)("mesh",{position:[.15,.045,0],children:[(0,t.jsx)("boxGeometry",{args:[.08,.015,.04]}),(0,t.jsx)("meshStandardMaterial",{color:"#10b981",roughness:.2,metalness:.8})]})]}):"di"===s?(0,t.jsxs)("group",{position:[0,.02,0],children:[(0,t.jsxs)("mesh",{castShadow:!0,receiveShadow:!0,position:[0,0,0],children:[(0,t.jsx)("boxGeometry",{args:[.25,.08,.15]}),(0,t.jsx)("meshStandardMaterial",{color:"#ea580c",roughness:.5,metalness:.3})]}),(0,t.jsxs)("mesh",{position:[0,.041,0],children:[(0,t.jsx)("boxGeometry",{args:[.22,.002,.12]}),(0,t.jsx)("meshStandardMaterial",{color:"#f97316",roughness:.3,metalness:.5})]})]}):"guitar_elec"===s?(0,t.jsx)(E.ElectricGuitarModel,{color:o}):"guitar_ac"===s?(0,t.jsx)(E.AcousticGuitarModel,{color:o}):"bass"===s?(0,t.jsx)(E.BassModel,{color:o}):"sax"===s?(0,t.jsx)(E.SaxModel,{color:o}):"trumpet"===s?(0,t.jsx)(E.TrumpetModel,{color:o}):"wedge"===s?(0,t.jsxs)("mesh",{position:[0,i/2,0],rotation:[Math.PI/6,0,0],castShadow:!0,receiveShadow:!0,children:[(0,t.jsx)("boxGeometry",{args:[a,i,l]}),(0,t.jsx)("meshStandardMaterial",{color:o,roughness:.4})]}):(0,t.jsxs)("mesh",{castShadow:!0,receiveShadow:!0,position:[0,i/2,0],children:[(0,t.jsx)("boxGeometry",{args:[a,i,l]}),(0,t.jsx)("meshStandardMaterial",{color:o,roughness:.4})]})})};e.s(["MemberPreview3D",0,({member:e,isDragging:s=!1,isSidebarPreview:r=!1})=>{let a=(0,n.useMemo)(()=>{let t=[],{pose:n,heldInstrumentId:o}=(0,w.getPersonPose)(e);t.push({id:"person",pos:[0,0,0],size:[.5,1.7,.5],color:v.COLORS.person,label:e.name||"Musician",type:"person",pose:n});let s=0,r=0,a=0;return e.instruments.forEach(e=>{let i=e.instrumentId,l=j.INSTRUMENTS.find(e=>e.id===i);if(!l)return;if(i.includes("amp")||i.includes("combined")){let e=(0,w.getAmpCount)(i);for(let n=0;n<e;n++){let e=s%2==0?-.9:.9;t.push({id:`amp-${i}-${s}-${n}`,pos:[e,0,-.6],size:[.7,.7,.4],color:v.COLORS.amp,label:"Amp",type:"amp"}),s++}}if((l.defaultDi||i.includes("di"))&&"dj"!==i){let e=(0,w.getDiLabel)(i),n=a%2==0?-.35:.35;t.push({id:`di-${i}-${a}`,pos:[n,0,-1.2],size:[.3,.1,.2],color:v.COLORS.di,label:e,type:"di"}),a++}let c=i===o,d=["guitar","bass","acoustic","sax","trumpet"].includes(n);if(l.type===y.InstrumentType.GUITAR||l.type===y.InstrumentType.BASS||l.type===y.InstrumentType.BRASS){let e=r%2==0?.6:-.6;if(!c||!d){let n="box";"gtr_ac"===l.id?n="guitar_ac":l.type===y.InstrumentType.BASS?n="bass":l.type===y.InstrumentType.GUITAR?n="guitar_elec":l.id.includes("sax")?n="sax":(l.id.includes("tpt")||l.id.includes("trumpet"))&&(n="trumpet"),t.push({id:`inst-body-${i}`,pos:[e,0,.1],size:[.4,1,.3],color:v.COLORS.instrument,label:l.type,type:n})}(0,w.shouldCreateModeller)(i)?t.push({id:`modeller-${i}`,pos:[e,0,.7],size:[.6,.1,.3],color:v.COLORS.pedalboard,label:"Modeller",type:"modeller"}):(l.type===y.InstrumentType.GUITAR||l.type===y.InstrumentType.BASS)&&"gtr_ac"!==l.id&&t.push({id:`pedal-${i}`,pos:[e,0,.7],size:[.6,.1,.3],color:v.COLORS.pedalboard,label:"Pedals",type:"box"}),r++}}),t},[e]);return(0,t.jsx)("div",{className:"w-full h-full bg-slate-900 rounded-lg overflow-hidden relative border border-slate-700 shadow-inner",style:{touchAction:r?"auto":"none"},children:(0,t.jsxs)(o.Canvas,{shadows:!0,camera:{position:[2.5,2.5,3.5],fov:35},style:{touchAction:r?"auto":"none",pointerEvents:r?"none":"auto"},children:[(0,t.jsx)("ambientLight",{intensity:.6}),(0,t.jsx)("directionalLight",{position:[5,8,5],intensity:1.2,castShadow:!0,"shadow-mapSize":[512,512]}),(0,t.jsx)("pointLight",{position:[-5,2,-5],intensity:.5,color:"#3b82f6"}),(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsxs)("group",{position:[0,-.8,0],children:[a.map((e,n)=>(0,t.jsx)(P,{position:e.pos,args:e.size,color:e.color,type:e.type,pose:e.pose},n)),(0,t.jsx)("gridHelper",{args:[5,5,3359061,1976635],position:[0,.001,0]}),(0,t.jsx)(f.ContactShadows,{position:[0,0,0],opacity:.6,scale:10,blur:2,far:1.5})]})}),(0,t.jsx)(g,{enabled:!r,enableZoom:!1,autoRotate:!s,autoRotateSpeed:1.5,minPolarAngle:0,maxPolarAngle:Math.PI/2.2})]})})}],45489)},85599,e=>{"use strict";var t=e.i(43476),n=e.i(71645),o=e.i(72664),s=e.i(52008),r=e.i(27612),a=e.i(75254);let i=(0,a.default)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),l=(0,a.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),c=(0,a.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),d=(0,a.default)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var m=e.i(96400),p=e.i(45489),h=e.i(69916),u=e.i(99857),b=e.i(23644);e.s(["StepStagePlot",0,({data:e,setData:a,updateStageItems:x})=>{let[g,f]=(0,n.useState)("isometric"),[y,j]=(0,n.useState)(null),[v,w]=(0,n.useState)(!1),[E,P]=(0,n.useState)(null),[T,M]=(0,n.useState)(null),[O,S]=(0,n.useState)(null),I=(0,n.useRef)(null),[N,A]=(0,n.useState)(""),C=t=>{if(!e.stagePlot.some(e=>e.memberId===t.id&&"person"===e.type))return!1;for(let n of(0,u.generateMemberItems)(t,50,50))if("person"!==n.type&&!e.stagePlot.find(e=>e.memberId===t.id&&e.fromInstrumentIndex===n.fromInstrumentIndex&&e.label===n.label))return!1;return!0},L=t=>{let n=e.stagePlot.some(e=>e.memberId===t.id&&"person"===e.type);return C(t)?"full":n?"partial":"none"},k=()=>{j(null),M(null),S(null)},D=t=>{let n=e.members.find(e=>e.id===t);if(!n)return;if("full"===L(n))return void alert(`${n.name} is already on the stage.`);let o=(0,u.generateMemberItems)(n,50,50),s=e.stagePlot.some(e=>e.memberId===t&&"person"===e.type),r=o.filter(n=>{if("person"===n.type&&s)return!1;if(void 0!==n.fromInstrumentIndex){let o=n.fromInstrumentIndex,s=e.stagePlot.find(e=>e.memberId===t&&e.fromInstrumentIndex===o&&!e.isPeripheral);if(!n.isPeripheral&&s||e.stagePlot.find(e=>e.memberId===t&&e.fromInstrumentIndex===o&&e.label===n.label))return!1}return!0});x([...e.stagePlot,...r])},R=(0,n.useMemo)(()=>{if(!y||!T)return[];let t=e.members.find(e=>e.id===y);if(!t)return[];let n=(0,u.generateMemberItems)(t,T.x,T.y,`ghost-${t.id}`),o=e.stagePlot.some(e=>e.memberId===y&&"person"===e.type);return n.filter(t=>{if("person"===t.type&&o)return!1;if(void 0!==t.fromInstrumentIndex){let n=t.fromInstrumentIndex,o=e.stagePlot.find(e=>e.memberId===y&&e.fromInstrumentIndex===n&&!e.isPeripheral);if(!t.isPeripheral&&o||e.stagePlot.find(e=>e.memberId===y&&e.fromInstrumentIndex===n&&e.label===t.label))return!1}return!0})},[y,T,e.members,e.stagePlot]);return(0,t.jsxs)("div",{className:"w-full h-full flex flex-col lg:flex-row gap-4 lg:gap-6 relative",children:[(0,t.jsx)("div",{ref:I,className:"absolute top-[-9999px] left-[-9999px] bg-slate-900 text-white text-xs font-bold px-3 py-1.5 rounded-md border border-slate-600 shadow-xl whitespace-nowrap z-50 pointer-events-none",children:N}),(0,t.jsxs)("div",{className:"hidden lg:flex w-[320px] shrink-0 flex-col bg-slate-800 rounded-xl overflow-hidden border border-slate-700 shadow-xl",children:[(0,t.jsxs)("div",{className:"p-4 bg-slate-900 border-b border-slate-700",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-white",children:"Band Members"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Click or drag members onto the stage"})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e.members.map(e=>{let n=L(e),o="full"===n,s="partial"===n;return(0,t.jsxs)("div",{draggable:!o,onDragStart:t=>{var n,o;return n=e.id,o=e.name,void(t.dataTransfer.setData("memberId",n),t.dataTransfer.effectAllowed="copy",j(n),A(o),I.current&&t.dataTransfer.setDragImage(I.current,0,0))},onDragEnd:k,onClick:()=>D(e.id),className:`rounded-lg transition-all group relative border ${o?"bg-slate-900/40 border-slate-700 p-3 cursor-default":s?"bg-slate-800/80 border-indigo-900/50 p-3 hover:border-indigo-500/50 cursor-grab active:cursor-grabbing":"bg-slate-700/50 border-transparent p-2 hover:bg-slate-700 hover:border-indigo-500/50 cursor-grab active:cursor-grabbing hover:shadow-lg"}`,children:[!o&&(0,t.jsx)("div",{className:"absolute right-2 top-2 text-slate-500 group-hover:text-indigo-400 z-10",children:(0,t.jsx)(i,{size:16})}),(0,t.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,t.jsx)("span",{className:`font-bold text-sm truncate pr-6 ${o?"text-slate-500":"text-white"}`,children:e.name}),o&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] bg-green-900/30 text-green-500 border border-green-900/50 px-2 py-0.5 rounded-full font-medium",children:[(0,t.jsx)(l,{size:10})," Placed"]}),s&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] bg-indigo-900/30 text-indigo-300 border border-indigo-800/50 px-2 py-0.5 rounded-full font-medium",children:[(0,t.jsx)(c,{size:10})," Update"]})]}),!o&&(0,t.jsx)("div",{className:"h-[120px] w-full rounded bg-slate-900/50 mb-1 mt-2",children:(0,t.jsx)(p.MemberPreview3D,{member:e,isDragging:!!y,isSidebarPreview:!0})}),!o&&(0,t.jsx)("div",{className:"text-[10px] text-center text-indigo-300 font-medium py-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s?"Drag to Add New Gear":"Drag to Stage"})]},e.id)})})]}),(0,t.jsxs)("div",{className:"lg:hidden flex flex-col gap-2",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-white px-4",children:"Click members to place on stage"}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 px-4",children:e.members.map(e=>{let n="full"===L(e);return(0,t.jsxs)("div",{onClick:()=>D(e.id),className:`flex-shrink-0 rounded-lg transition-all group relative border p-2 text-center min-w-[100px] ${n?"bg-slate-900/40 border-slate-700 cursor-default":"bg-slate-700/50 border-transparent hover:bg-slate-700 hover:border-indigo-500/50 cursor-pointer hover:shadow-lg"}`,children:[(0,t.jsx)("span",{className:`block font-bold text-xs truncate ${n?"text-slate-500":"text-white"}`,children:e.name}),n&&(0,t.jsx)("span",{className:"text-[8px] text-green-400 font-medium",children:"Placed âœ“"})]},e.id)})})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 w-full lg:w-auto",children:[(0,t.jsxs)("button",{onClick:()=>f("isometric"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-2 sm:px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-all ${"isometric"===g?"bg-indigo-600 text-white shadow":"bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:[(0,t.jsx)(o.Box,{size:16})," ",(0,t.jsx)("span",{className:"hidden sm:inline",children:"3D View"})]}),(0,t.jsxs)("button",{onClick:()=>f("top"),className:`flex-1 sm:flex-none flex items-center justify-center gap-2 px-2 sm:px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-all ${"top"===g?"bg-indigo-600 text-white shadow":"bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:[(0,t.jsx)(s.Layers,{size:16})," ",(0,t.jsx)("span",{className:"hidden sm:inline",children:"Top View"})]}),(0,t.jsx)("div",{className:"hidden sm:flex flex-1"}),(0,t.jsx)("button",{onClick:()=>{let t=Math.max(...e.stagePlot.filter(e=>"monitor"===e.type).map(e=>e.monitorNumber||0),0)+1;x([...e.stagePlot,{id:`mon-${Date.now()}`,type:"monitor",x:50,y:50,label:"Mon",monitorNumber:t}])},className:"flex-1 sm:flex-none px-2 sm:px-3 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded text-xs border border-slate-600 whitespace-nowrap",children:"+ Mon"}),(0,t.jsx)("button",{onClick:()=>x([...e.stagePlot,{id:`stand-${Date.now()}`,type:"stand",x:50,y:50,label:"Mic Stand"}]),className:"flex-1 sm:flex-none px-2 sm:px-3 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded text-xs border border-slate-600 whitespace-nowrap",children:"+ Stand"}),(0,t.jsx)("button",{onClick:()=>x([...e.stagePlot,{id:`pwr-${Date.now()}`,type:"power",x:50,y:50,label:"Power",quantity:1}]),className:"flex-1 sm:flex-none px-2 sm:px-3 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded text-xs border border-slate-600 whitespace-nowrap",children:"+ Power"}),(0,t.jsx)("button",{onClick:()=>x([...e.stagePlot,{id:`custom-${Date.now()}`,type:"custom",x:50,y:50,label:"",customWidth:1,customDepth:1}]),className:"flex-1 sm:flex-none px-2 sm:px-3 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded text-xs border border-slate-600 whitespace-nowrap",children:"+ Custom"}),(0,t.jsx)("button",{onClick:()=>x([...e.stagePlot,{id:`label-${Date.now()}`,type:"custom",x:50,y:50,label:"Label",customWidth:0,customDepth:0,labelHeight:1.7}]),className:"flex-1 sm:flex-none px-2 sm:px-3 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded text-xs border border-slate-600 whitespace-nowrap",children:"+ Label"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{e.stagePlot.length>0&&w(!0)},disabled:0===e.stagePlot.length,className:`flex-1 sm:flex-none px-2 sm:px-3 py-2 rounded text-xs flex items-center justify-center gap-1 border transition-colors ${0===e.stagePlot.length?"bg-slate-800 text-slate-600 border-slate-700 cursor-not-allowed":"bg-red-900/30 hover:bg-red-900/50 text-red-200 border-red-900/50 cursor-pointer"}`,title:"Remove all items from the stage",children:[(0,t.jsx)(r.Trash2,{size:14,className:"pointer-events-none"})," ",(0,t.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]})]}),(0,t.jsxs)("div",{className:"flex-1 bg-slate-900 rounded-xl overflow-hidden shadow-2xl border border-slate-700 relative min-h-[300px] sm:min-h-[500px]",onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy";let t=e.currentTarget.getBoundingClientRect();S({x:e.clientX-t.left,y:e.clientY-t.top,width:t.width,height:t.height})},onDragLeave:e=>{e.currentTarget.contains(e.relatedTarget)||(M(null),S(null))},onDrop:t=>{t.preventDefault();let n=t.dataTransfer.getData("memberId");if(j(null),M(null),S(null),!n||!T)return;let o=e.members.find(e=>e.id===n);if(!o)return;if(C(o))return void alert(`${o.name} is already on the stage.`);let s=(0,u.generateMemberItems)(o,T.x,T.y),r=e.stagePlot.some(e=>e.memberId===n&&"person"===e.type),a=s.filter(t=>{if("person"===t.type&&r)return!1;if(void 0!==t.fromInstrumentIndex){let o=t.fromInstrumentIndex,s=e.stagePlot.find(e=>e.memberId===n&&e.fromInstrumentIndex===o&&!e.isPeripheral);if(!t.isPeripheral&&s||e.stagePlot.find(e=>e.memberId===n&&e.fromInstrumentIndex===o&&e.label===t.label))return!1}return!0});x([...e.stagePlot,...a])},children:[(0,t.jsx)(m.StagePlotCanvas,{items:e.stagePlot,setItems:x,editable:!0,viewMode:g,ghostItems:R,dragCoords:O,onDragPosChange:(t,n)=>{if(!y)return;let o=e.members.find(e=>e.id===y);if(!o)return;let s=(0,u.generateMemberItems)(o,t,n,"temp-bounds-check"),r=100,a=0,i=100,l=0;s.forEach(e=>{let t=(0,h.getItemConfig)(e),n=t.width/h.STAGE_WIDTH*100,o=t.depth/h.STAGE_DEPTH*100,s=n/2,c=o/2,d=[0,0,0],m=(e.label||"").toLowerCase();"person"!==t.shape&&(m.includes("drum")||m.includes("kit")?d=b.MODEL_OFFSETS.DRUMS:m.includes("sax")?d=b.MODEL_OFFSETS.SAX:(m.includes("trumpet")||m.includes("tpt"))&&(d=b.MODEL_OFFSETS.TRUMPET));let[p,u,x]=d,g=p/h.STAGE_WIDTH*100,f=x/h.STAGE_DEPTH*100,y=e.x+g,j=e.y+f,v=y-s,w=y+s,E=j-c,P=j+c;v<r&&(r=v),w>a&&(a=w),E<i&&(i=E),P>l&&(l=P)});let c=0,d=0;r<.5?c=.5-r:a>99.5&&(c=99.5-a),i<.5?d=.5-i:l>99.5&&(d=99.5-l),M({x:t+c,y:n+d})},members:e.members,rotatingItemId:E,onRotateItem:(t,n)=>{let o=Math.PI/180*22.5,s=e.stagePlot.find(e=>e.id===t);if(!s)return;let r=s.rotation||0,a=(("right"===n?r-o:r+o)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);x(e.stagePlot.map(e=>e.id===t?{...e,rotation:a}:e))}}),0===e.stagePlot.length&&!y&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900/80 backdrop-blur-sm p-4 sm:p-6 rounded-xl border border-slate-700 text-center max-w-sm",children:[(0,t.jsx)(o.Box,{size:40,className:"mx-auto text-slate-500 mb-4"}),(0,t.jsx)("h3",{className:"text-white font-bold mb-2 text-base sm:text-lg",children:"The Stage is Empty"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs sm:text-sm",children:'Click "Members" to add band members to the stage.'})]})})]})]}),v&&(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-600 rounded-xl p-6 max-w-sm w-full shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4 text-red-400",children:[(0,t.jsx)(d,{size:24}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Clear Stage?"})]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-6",children:"Are you sure you want to remove all items from the stage? This action cannot be undone."}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700 transition-colors text-sm font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{x([]),w(!1)},className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-900/20 text-sm font-bold transition-all",children:"Yes, Clear All"})]})]})})]})}],85599)},30831,e=>{e.n(e.i(85599))}]);